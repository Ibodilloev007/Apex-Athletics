<!DOCTYPE html>
<html lang="ru">

<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Apex Athletics | Вершина атлетики</title>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 <link
  href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;500;600;700&display=swap"
  rel="stylesheet">
 <link rel="stylesheet" href="/style.css">
 <link rel="Website Icon" type="jpg/png"
  href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgzH-FfoR56JJAfHoKbaZgSXzjFYKcQ3BKnK2oJHkITGQ1qCQFvEfZKhW2aDKZ4hCDslnegrhO-6_A-1Rekm1D_ZHhZBa2oN578a5Wf1OAUHQSi9BVA1mlI9zxakZKzPMQn4aGaZAbFw7yo0LJy-NIwiSkKegLqHpe_t8vI2XhroKy11ji0KBQ_0iScceA/s320/5238132506816016184.jpg">

 <style>
  /* Все стили остаются без изменений */
  * {
   margin: 0;
   padding: 0;
   box-sizing: border-box;
   transition: all 0.3s ease;
  }

  :root {
   --dark-bg: #0a0a14;
   --darker-bg: #05050a;
   --card-bg: rgba(20, 20, 40, 0.8);
   --card-border: rgba(100, 120, 255, 0.2);
   --neon-blue: #00eeff;
   --neon-purple: #8a2be2;
   --neon-pink: #ff00c8;
   --neon-cyan: #00ffea;
   --light-gray: #b0b0d0;
   --white: #ffffff;
   --success: #00ff9d;
   --error: #ff5252;
   --discount: #ff5252;
   --favorite: #ff3366;
   --space-gradient: linear-gradient(135deg, #0f0f1a 0%, #05050a 100%);
  }

  body {
   background: var(--space-gradient);
   color: var(--white);
   min-height: 100vh;
   font-family: "Exo 2", sans-serif;
   overflow-x: hidden;
   position: relative;
   line-height: 1.6;
  }

  /* Улучшенный космический фон */
  .space-bg {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   z-index: -3;
   overflow: hidden;
  }

  .galaxy {
   position: absolute;
   border-radius: 50%;
   animation: rotateGalaxy 120s linear infinite;
   transform-style: preserve-3d;
  }

  .galaxy-1 {
   top: 10%;
   left: 15%;
   width: 300px;
   height: 300px;
   background: radial-gradient(circle,
     rgba(138, 43, 226, 0.1) 0%,
     transparent 70%);
   filter: blur(30px);
   animation-duration: 180s;
  }

  .galaxy-2 {
   bottom: 15%;
   right: 10%;
   width: 400px;
   height: 400px;
   background: radial-gradient(circle,
     rgba(0, 238, 255, 0.08) 0%,
     transparent 70%);
   filter: blur(40px);
   animation-duration: 220s;
   animation-direction: reverse;
  }

  .particle {
   position: absolute;
   border-radius: 50%;
   background: rgba(255, 255, 255, 0.8);
   box-shadow: 0 0 10px rgba(0, 238, 255, 0.5);
  }

  .star {
   width: 1px;
   height: 1px;
   animation: twinkle 3s infinite alternate;
  }

  .nebula {
   position: absolute;
   border-radius: 50%;
   filter: blur(50px);
   opacity: 0.7;
   animation: nebulaPulse 20s infinite alternate;
  }

  .nebula-1 {
   top: 20%;
   left: 30%;
   width: 200px;
   height: 200px;
   background: radial-gradient(circle,
     rgba(138, 43, 226, 0.3) 0%,
     transparent 70%);
  }

  .nebula-2 {
   bottom: 25%;
   right: 20%;
   width: 250px;
   height: 250px;
   background: radial-gradient(circle,
     rgba(0, 238, 255, 0.25) 0%,
     transparent 70%);
   animation-delay: -5s;
  }

  .asteroid {
   position: absolute;
   width: 3px;
   height: 3px;
   background: var(--neon-cyan);
   border-radius: 50%;
   box-shadow: 0 0 10px var(--neon-cyan);
   animation: shootingStar 15s linear infinite;
  }

  /* Анимации фона */
  @keyframes rotateGalaxy {
   from {
    transform: rotate(0deg);
   }

   to {
    transform: rotate(360deg);
   }
  }

  @keyframes nebulaPulse {
   0% {
    transform: scale(1);
    opacity: 0.5;
   }

   50% {
    transform: scale(1.2);
    opacity: 0.8;
   }

   100% {
    transform: scale(1);
    opacity: 0.5;
   }
  }

  @keyframes twinkle {
   0% {
    opacity: 0.2;
   }

   100% {
    opacity: 1;
   }
  }

  @keyframes shootingStar {
   0% {
    transform: translate(0, 0) scale(0.5);
    opacity: 0;
   }

   5% {
    opacity: 1;
   }

   100% {
    transform: translate(1000px, 500px) scale(1.5);
    opacity: 0;
   }
  }

  /* Шапка с улучшенным неоновым эффектом */
  header {
   background: rgba(10, 10, 25, 0.85);
   padding: 15px 5%;
   display: flex;
   justify-content: space-between;
   align-items: center;
   position: sticky;
   top: 0;
   z-index: 100;
   backdrop-filter: blur(10px);
   border-bottom: 1px solid rgba(0, 238, 255, 0.3);
   box-shadow: 0 5px 25px rgba(0, 0, 60, 0.5);
  }

  .logo {
   font-size: 26px;
   font-weight: 700;
   color: var(--white);
   display: flex;
   align-items: center;
   font-family: "Orbitron", sans-serif;
   letter-spacing: 1px;
   text-shadow: 0 0 10px var(--neon-blue);
   position: relative;
   transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  .logo:hover {
   transform: translateY(-3px);
   text-shadow: 0 0 15px var(--neon-blue), 0 0 30px var(--neon-blue);
  }

  .logo span {
   color: var(--neon-blue);
   animation: neonPulse 2s infinite alternate;
  }

  @keyframes neonPulse {
   from {
    text-shadow: 0 0 5px var(--neon-blue), 0 0 10px var(--neon-blue);
   }

   to {
    text-shadow: 0 0 15px var(--neon-blue), 0 0 30px var(--neon-blue);
   }
  }

  .logo i {
   margin-right: 10px;
   font-size: 28px;
   color: var(--neon-blue);
   filter: drop-shadow(0 0 8px var(--neon-blue));
   transition: all 0.3s ease;
  }

  .logo:hover i {
   transform: rotate(15deg);
  }

  .nav-icons {
   display: flex;
   gap: 15px;
   align-items: center;
  }

  .nav-icon {
   position: relative;
   font-size: 22px;
   color: var(--light-gray);
   cursor: pointer;
   transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  .nav-icon:hover {
   color: var(--neon-blue);
   transform: translateY(-3px);
   filter: drop-shadow(0 0 8px var(--neon-blue));
  }

  .main-nav {
   flex: 1;
   display: flex;
   justify-content: center;
   margin: 0 15px;
  }

  .nav-menu {
   display: flex;
   list-style: none;
   margin: 0;
   padding: 0;
  }

  .nav-item {
   position: relative;
   margin: 0 12px;
  }

  .nav-link {
   color: var(--light-gray);
   text-decoration: none;
   font-size: 15px;
   font-weight: 500;
   padding: 5px 0;
   position: relative;
   white-space: nowrap;
   transition: all 0.3s;
  }

  .nav-link:hover {
   color: var(--neon-blue);
  }

  .nav-link.active {
   color: var(--neon-blue);
   font-weight: 600;
  }

  .nav-link.active::after {
   width: 100%;
  }

  .nav-link::after {
   content: "";
   position: absolute;
   bottom: 0;
   left: 0;
   width: 0;
   height: 2px;
   background: var(--neon-blue);
   transition: width 0.3s ease;
  }

  .nav-link:hover::after {
   width: 100%;
  }

  .mobile-menu-btn {
   display: none;
   background: none;
   border: none;
   color: var(--light-gray);
   font-size: 24px;
   cursor: pointer;
   z-index: 101;
  }

  .mobile-menu-btn:hover {
   color: var(--neon-blue);
  }

  .cart-count {
   position: absolute;
   top: -8px;
   right: -10px;
   background: var(--neon-pink);
   color: white;
   border-radius: 50%;
   width: 22px;
   height: 22px;
   display: flex;
   justify-content: center;
   align-items: center;
   font-size: 12px;
   font-weight: bold;
   box-shadow: 0 0 8px var(--neon-pink);
   transition: all 0.3s ease;
  }

  /* Основной контент */
  .container {
   max-width: 1400px;
   margin: 0 auto;
   padding: 30px 15px;
  }

  .section-title {
   font-size: 38px;
   margin: 30px 0 40px;
   text-align: center;
   position: relative;
   padding-bottom: 15px;
   font-weight: 700;
   letter-spacing: 2px;
   text-transform: uppercase;
   font-family: "Orbitron", sans-serif;
   text-shadow: 0 0 10px rgba(0, 238, 255, 0.5);
   animation: titleGlow 3s infinite alternate;
  }

  @keyframes titleGlow {
   0% {
    text-shadow: 0 0 10px rgba(0, 238, 255, 0.5);
   }

   100% {
    text-shadow: 0 0 20px rgba(0, 238, 255, 0.8),
     0 0 40px rgba(0, 238, 255, 0.6);
   }
  }

  .section-title::after {
   content: "";
   position: absolute;
   bottom: 0;
   left: 50%;
   transform: translateX(-50%);
   width: 180px;
   height: 3px;
   background: linear-gradient(90deg,
     transparent,
     var(--neon-blue),
     transparent);
   border-radius: 3px;
   box-shadow: 0 0 10px var(--neon-blue);
   animation: beamFlow 3s infinite linear;
  }

  @keyframes beamFlow {
   0% {
    background-position: -100% 0;
   }

   100% {
    background-position: 200% 0;
   }
  }

  /* Фильтры и сортировка */
  .filters-container {
   display: flex;
   justify-content: space-between;
   margin-bottom: 30px;
   gap: 15px;
   flex-wrap: wrap;
  }

  .filter-group {
   display: flex;
   gap: 10px;
   align-items: center;
  }

  .filter-btn {
   background: rgba(0, 238, 255, 0.1);
   color: var(--light-gray);
   border: 1px solid rgba(0, 238, 255, 0.3);
   border-radius: 20px;
   padding: 8px 18px;
   font-size: 14px;
   cursor: pointer;
   transition: all 0.3s;
  }

  .filter-btn:hover,
  .filter-btn.active {
   background: rgba(0, 238, 255, 0.2);
   color: var(--neon-blue);
   border-color: var(--neon-blue);
   box-shadow: 0 0 10px rgba(0, 238, 255, 0.3);
  }

  /* Карточки товаров с улучшенным 3D эффектом */
  .products-grid {
   display: grid;
   grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
   gap: 25px;
   margin-bottom: 50px;
  }

  .product-card {
   background: var(--card-bg);
   border-radius: 18px;
   overflow: hidden;
   box-shadow: 0 8px 25px rgba(0, 0, 40, 0.5);
   transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
   border: 1px solid var(--card-border);
   position: relative;
   perspective: 1000px;
   transform-style: preserve-3d;
   animation: cardAppear 0.8s ease-out forwards;
   opacity: 0;
   transform: translateY(30px);
   backdrop-filter: blur(5px);
  }

  @keyframes cardAppear {
   to {
    opacity: 1;
    transform: translateY(0);
   }
  }

  .product-card:hover {
   transform: translateY(-10px) rotateX(5deg) rotateY(5deg) scale(1.02);
   box-shadow: 0 12px 35px rgba(0, 238, 255, 0.4),
    0 0 30px rgba(0, 238, 255, 0.1);
   border-color: rgba(0, 238, 255, 0.5);
  }

  .product-image-container {
   height: 300px;
   overflow: hidden;
   position: relative;
   border-bottom: 1px solid rgba(0, 238, 255, 0.3);
   background: rgba(0, 0, 20, 0.4);
   display: flex;
   align-items: center;
   justify-content: center;
  }

  .product-image {
   width: 100%;
   height: 100%;
   object-fit: contain;
   transition: transform 0.8s ease;
  }

  .product-card:hover .product-image {
   transform: scale(1.08) rotate(1deg);
  }

  .product-badge {
   position: absolute;
   top: 15px;
   right: 15px;
   background: linear-gradient(45deg, var(--neon-pink), var(--neon-purple));
   color: white;
   padding: 6px 12px;
   border-radius: 16px;
   font-size: 13px;
   font-weight: 600;
   box-shadow: 0 4px 12px rgba(255, 0, 200, 0.4);
   z-index: 2;
  }

  .discount-badge {
   position: absolute;
   top: 50px;
   right: 15px;
   background: linear-gradient(45deg, var(--discount), #ff0000);
   color: white;
   padding: 5px 10px;
   border-radius: 16px;
   font-size: 13px;
   font-weight: 600;
   box-shadow: 0 4px 12px rgba(255, 0, 0, 0.4);
   z-index: 2;
  }

  .favorite-btn {
   position: absolute;
   top: 15px;
   left: 15px;
   background: transparent;
   border: none;
   color: var(--light-gray);
   font-size: 20px;
   cursor: pointer;
   z-index: 2;
   transition: all 0.3s ease;
  }

  .favorite-btn:hover {
   color: var(--favorite);
   transform: scale(1.1);
  }

  .favorite-btn.active {
   color: var(--favorite);
   animation: heartBeat 0.6s ease;
  }

  @keyframes heartBeat {
   0% {
    transform: scale(1);
   }

   25% {
    transform: scale(1.2);
   }

   50% {
    transform: scale(0.9);
   }

   75% {
    transform: scale(1.1);
   }

   100% {
    transform: scale(1);
   }
  }

  .product-info {
   padding: 20px;
  }

  .product-title {
   font-size: 20px;
   margin-bottom: 12px;
   color: var(--white);
   font-weight: 600;
   letter-spacing: 0.5px;
   min-height: 50px;
   text-shadow: 0 0 5px rgba(0, 238, 255, 0.3);
  }

  .product-description {
   color: var(--light-gray);
   font-size: 14px;
   margin-bottom: 20px;
   line-height: 1.5;
   min-height: 65px;
  }

  .product-meta {
   display: flex;
   justify-content: space-between;
   align-items: center;
   margin-bottom: 15px;
  }

  .product-sku {
   color: var(--light-gray);
   font-size: 13px;
   letter-spacing: 0.5px;
   background: rgba(0, 238, 255, 0.1);
   padding: 4px 8px;
   border-radius: 8px;
  }

  .product-price-container {
   display: flex;
   flex-direction: column;
   align-items: flex-end;
  }

  .old-price {
   font-size: 16px;
   color: var(--light-gray);
   text-decoration: line-through;
   margin-bottom: 3px;
   opacity: 0.7;
  }

  .product-price {
   font-size: 24px;
   font-weight: 700;
   color: var(--neon-blue);
   text-shadow: 0 0 8px rgba(0, 238, 255, 0.3);
   font-family: "Orbitron", sans-serif;
  }

  .add-to-cart {
   width: 100%;
   padding: 14px;
   background: rgba(0, 238, 255, 0.1);
   color: var(--neon-blue);
   border: 1px solid var(--neon-blue);
   border-radius: 10px;
   font-weight: 600;
   font-size: 16px;
   cursor: pointer;
   display: flex;
   justify-content: center;
   align-items: center;
   letter-spacing: 0.5px;
   position: relative;
   overflow: hidden;
   z-index: 1;
   box-shadow: 0 0 12px rgba(0, 238, 255, 0.2);
   transition: all 0.3s ease;
  }

  .add-to-cart::before {
   content: "";
   position: absolute;
   top: 0;
   left: -100%;
   width: 100%;
   height: 100%;
   background: linear-gradient(90deg,
     transparent,
     rgba(0, 238, 255, 0.2),
     transparent);
   transition: 0.5s;
   z-index: -1;
  }

  .add-to-cart:hover::before {
   left: 100%;
  }

  .add-to-cart:hover {
   background: rgba(0, 238, 255, 0.2);
   transform: translateY(-3px);
   box-shadow: 0 4px 20px rgba(0, 238, 255, 0.4);
  }

  .add-to-cart i {
   margin-right: 8px;
   font-size: 18px;
  }

  /* Анимация добавления в корзину */
  .cart-animation {
   position: fixed;
   pointer-events: none;
   z-index: 1000;
   animation: flyToCart 1s forwards;
  }

  @keyframes flyToCart {
   0% {
    transform: scale(1);
    opacity: 1;
   }

   50% {
    opacity: 0.8;
   }

   100% {
    transform: scale(0.1) translate(var(--tx), var(--ty));
    opacity: 0;
   }
  }

  /* Корзина с улучшенным стеклянным эффектом */
  .cart-modal {
   position: fixed;
   top: 0;
   right: -500px;
   width: 450px;
   height: 100vh;
   background: rgba(15, 15, 30, 0.95);
   backdrop-filter: blur(15px);
   z-index: 1000;
   transition: right 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);
   display: flex;
   flex-direction: column;
   border-left: 1px solid var(--neon-blue);
   box-shadow: -8px 0 40px rgba(0, 0, 60, 0.7);
  }

  .cart-modal.active {
   right: 0;
  }

  .cart-header {
   padding: 25px;
   display: flex;
   justify-content: space-between;
   align-items: center;
   border-bottom: 1px solid rgba(0, 238, 255, 0.3);
  }

  .cart-title {
   font-size: 24px;
   font-weight: 600;
   text-transform: uppercase;
   letter-spacing: 1.5px;
   color: var(--neon-blue);
   font-family: "Orbitron", sans-serif;
   text-shadow: 0 0 8px var(--neon-blue);
  }

  .close-cart {
   background: none;
   border: none;
   color: var(--light-gray);
   font-size: 24px;
   cursor: pointer;
   transition: all 0.3s ease;
  }

  .close-cart:hover {
   color: var(--neon-blue);
   transform: rotate(90deg);
  }

  .cart-items {
   flex: 1;
   overflow-y: auto;
   padding: 20px;
  }

  .cart-item {
   display: flex;
   padding: 18px;
   margin-bottom: 18px;
   background: rgba(25, 25, 50, 0.6);
   border-radius: 14px;
   border: 1px solid rgba(0, 238, 255, 0.2);
   position: relative;
   overflow: hidden;
   transition: all 0.3s ease;
  }

  .cart-item:hover {
   transform: translateX(8px);
   box-shadow: 0 4px 15px rgba(0, 238, 255, 0.2);
  }

  .cart-item::before {
   content: "";
   position: absolute;
   top: 0;
   left: 0;
   width: 4px;
   height: 100%;
   background: var(--neon-blue);
   border-radius: 4px 0 0 4px;
   box-shadow: 0 0 8px var(--neon-blue);
  }

  .cart-item-image {
   width: 80px;
   height: 80px;
   object-fit: contain;
   border-radius: 8px;
   margin-right: 18px;
   border: 1px solid rgba(0, 238, 255, 0.3);
  }

  .cart-item-info {
   flex: 1;
  }

  .cart-item-title {
   font-size: 17px;
   margin-bottom: 7px;
   font-weight: 500;
  }

  .cart-item-price {
   color: var(--neon-blue);
   font-size: 18px;
   font-weight: 600;
   margin-bottom: 10px;
   font-family: "Orbitron", sans-serif;
  }

  .cart-item-controls {
   display: flex;
   align-items: center;
  }

  .quantity-btn {
   width: 30px;
   height: 30px;
   background: transparent;
   color: var(--neon-blue);
   border: 1px solid var(--neon-blue);
   border-radius: 7px;
   font-size: 16px;
   cursor: pointer;
   display: flex;
   justify-content: center;
   align-items: center;
   transition: all 0.2s ease;
  }

  .quantity-btn:hover {
   background: rgba(0, 238, 255, 0.2);
   box-shadow: 0 0 8px var(--neon-blue);
  }

  .quantity-btn:disabled {
   opacity: 0.5;
   cursor: not-allowed;
  }

  .quantity-display {
   margin: 0 12px;
   min-width: 26px;
   text-align: center;
   font-size: 18px;
   font-weight: 600;
  }

  .remove-item {
   margin-left: auto;
   background: none;
   border: none;
   color: var(--neon-pink);
   cursor: pointer;
   font-size: 20px;
   transition: all 0.2s ease;
  }

  .remove-item:hover {
   transform: scale(1.15);
   filter: drop-shadow(0 0 6px var(--neon-pink));
  }

  .cart-footer {
   padding: 25px;
   border-top: 1px solid rgba(0, 238, 255, 0.3);
   background: rgba(10, 15, 30, 0.6);
  }

  .cart-total {
   display: flex;
   justify-content: space-between;
   font-size: 24px;
   margin-bottom: 25px;
  }

  .total-label {
   color: var(--light-gray);
  }

  .total-amount {
   font-weight: 700;
   color: var(--neon-blue);
   font-family: "Orbitron", sans-serif;
   text-shadow: 0 0 8px var(--neon-blue);
  }

  .checkout-btn {
   width: 100%;
   padding: 16px;
   background: rgba(0, 255, 157, 0.1);
   color: var(--success);
   border: 1px solid var(--success);
   border-radius: 10px;
   font-size: 18px;
   font-weight: 600;
   cursor: pointer;
   transition: all 0.4s;
   letter-spacing: 0.5px;
   position: relative;
   overflow: hidden;
   z-index: 1;
   box-shadow: 0 0 12px rgba(0, 255, 157, 0.2);
  }

  .checkout-btn::before {
   content: "";
   position: absolute;
   top: 0;
   left: -100%;
   width: 100%;
   height: 100%;
   background: linear-gradient(90deg,
     transparent,
     rgba(0, 255, 157, 0.2),
     transparent);
   transition: 0.5s;
   z-index: -1;
  }

  .checkout-btn:hover::before {
   left: 100%;
  }

  .checkout-btn:hover {
   background: rgba(0, 255, 157, 0.2);
   transform: translateY(-3px);
   box-shadow: 0 4px 20px rgba(0, 255, 157, 0.4);
  }

  .checkout-btn i {
   margin-right: 8px;
   font-size: 22px;
  }

  .empty-cart {
   text-align: center;
   padding: 50px 20px;
   color: var(--light-gray);
  }

  .empty-cart i {
   font-size: 70px;
   margin-bottom: 20px;
   color: var(--neon-blue);
   filter: drop-shadow(0 0 12px var(--neon-blue));
  }

  .empty-cart h3 {
   font-size: 24px;
   margin-bottom: 12px;
   font-family: "Orbitron", sans-serif;
  }

  /* Модальное окно оформления заказа */
  .order-modal {
   position: fixed;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%) scale(0.9);
   width: 90%;
   max-width: 800px;
   max-height: 90vh;
   overflow-y: auto;
   background: rgba(15, 15, 35, 0.95);
   border-radius: 18px;
   z-index: 1002;
   opacity: 0;
   visibility: hidden;
   transition: all 0.4s;
   box-shadow: 0 15px 40px rgba(0, 0, 60, 0.7);
   border: 1px solid var(--neon-blue);
   padding: 25px;
   backdrop-filter: blur(15px);
  }

  .order-modal.active {
   opacity: 1;
   visibility: visible;
   transform: translate(-50%, -50%) scale(1);
  }

  .order-header {
   display: flex;
   justify-content: space-between;
   align-items: center;
   margin-bottom: 25px;
   padding-bottom: 18px;
   border-bottom: 1px solid rgba(0, 238, 255, 0.3);
  }

  .order-title {
   font-size: 28px;
   font-weight: 600;
   color: var(--neon-blue);
   font-family: "Orbitron", sans-serif;
   text-shadow: 0 0 8px var(--neon-blue);
   letter-spacing: 0.5px;
  }

  .close-order {
   background: none;
   border: none;
   color: var(--light-gray);
   font-size: 26px;
   cursor: pointer;
   transition: all 0.3s ease;
  }

  .close-order:hover {
   color: var(--neon-blue);
   transform: rotate(90deg);
  }

  .order-content {
   display: grid;
   grid-template-columns: 1fr 1fr;
   gap: 25px;
  }

  .form-section {
   margin-bottom: 20px;
  }

  .section-title-small {
   font-size: 18px;
   margin-bottom: 12px;
   color: var(--neon-blue);
   display: flex;
   align-items: center;
   font-family: "Orbitron", sans-serif;
  }

  .section-title-small i {
   margin-right: 8px;
   font-size: 22px;
  }

  .form-group {
   margin-bottom: 15px;
  }

  .form-group label {
   display: block;
   margin-bottom: 6px;
   font-size: 14px;
   color: var(--light-gray);
  }

  .form-group input,
  .form-group select,
  .form-group textarea {
   width: 100%;
   padding: 12px 15px;
   background: rgba(25, 25, 45, 0.7);
   border: 1px solid rgba(0, 238, 255, 0.3);
   border-radius: 10px;
   color: var(--white);
   font-size: 15px;
   font-family: "Exo 2", sans-serif;
   transition: all 0.3s ease;
  }

  .form-group input:focus,
  .form-group select:focus,
  .form-group textarea:focus {
   border-color: var(--neon-blue);
   outline: none;
   box-shadow: 0 0 12px rgba(0, 238, 255, 0.3);
  }

  .form-group textarea {
   min-height: 90px;
   resize: vertical;
  }

  .address-grid {
   display: grid;
   grid-template-columns: repeat(2, 1fr);
   gap: 12px;
  }

  .order-summary {
   background: rgba(25, 25, 45, 0.7);
   border-radius: 14px;
   padding: 20px;
   border: 1px solid rgba(0, 238, 255, 0.3);
   box-shadow: 0 8px 25px rgba(0, 0, 40, 0.5);
  }

  .summary-title {
   font-size: 22px;
   margin-bottom: 18px;
   padding-bottom: 12px;
   border-bottom: 1px solid rgba(0, 238, 255, 0.3);
   font-family: "Orbitron", sans-serif;
   color: var(--neon-blue);
   text-align: center;
  }

  .summary-item {
   display: flex;
   justify-content: space-between;
   margin-bottom: 12px;
   padding-bottom: 8px;
   border-bottom: 1px dashed rgba(0, 238, 255, 0.2);
  }

  .summary-total {
   display: flex;
   justify-content: space-between;
   margin-top: 20px;
   padding-top: 18px;
   border-top: 1px solid rgba(0, 238, 255, 0.3);
   font-size: 20px;
   font-weight: bold;
   font-family: "Orbitron", sans-serif;
  }

  .total-amount-summary {
   color: var(--neon-blue);
   text-shadow: 0 0 8px var(--neon-blue);
  }

  .submit-order {
   width: 100%;
   padding: 16px;
   margin-top: 20px;
   background: rgba(0, 255, 157, 0.2);
   color: var(--success);
   border: 1px solid var(--success);
   border-radius: 10px;
   font-size: 18px;
   font-weight: 600;
   cursor: pointer;
   display: flex;
   justify-content: center;
   align-items: center;
   letter-spacing: 0.5px;
   font-family: "Orbitron", sans-serif;
   box-shadow: 0 0 15px rgba(0, 255, 157, 0.3);
   transition: all 0.3s ease;
  }

  .submit-order:hover {
   background: rgba(0, 255, 157, 0.3);
   transform: translateY(-3px);
   box-shadow: 0 4px 20px rgba(0, 255, 157, 0.5);
  }

  .submit-order i {
   margin-right: 10px;
   font-size: 22px;
  }

  /* Оверлей */
  .overlay {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   background: rgba(0, 0, 10, 0.8);
   z-index: 999;
   opacity: 0;
   visibility: hidden;
   transition: all 0.4s;
   backdrop-filter: blur(5px);
  }

  .overlay.active {
   opacity: 1;
   visibility: visible;
  }

  /* Уведомление */
  .notification {
   position: fixed;
   bottom: 25px;
   left: 50%;
   transform: translateX(-50%) translateY(100px);
   background: var(--success);
   color: white;
   padding: 15px 30px;
   border-radius: 10px;
   font-weight: 600;
   box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
   transition: transform 0.4s;
   z-index: 1001;
   display: flex;
   align-items: center;
   font-size: 16px;
   font-family: "Orbitron", sans-serif;
  }

  .notification.show {
   transform: translateX(-50%) translateY(0);
  }

  .notification i {
   margin-right: 10px;
   font-size: 22px;
  }

  .notification.error {
   background: var(--error);
  }

  .error-message {
   color: var(--error);
   font-size: 13px;
   margin-top: 4px;
   display: none;
  }

  /* Анимации */
  @keyframes float {

   0%,
   100% {
    transform: translateY(0);
   }

   50% {
    transform: translateY(-15px);
   }
  }

  .floating {
   animation: float 6s ease-in-out infinite;
  }

  .loading {
   display: inline-block;
   width: 22px;
   height: 22px;
   border: 3px solid rgba(255, 255, 255, 0.3);
   border-radius: 50%;
   border-top-color: #fff;
   animation: spin 1s ease-in-out infinite;
   margin-right: 12px;
  }

  @keyframes spin {
   to {
    transform: rotate(360deg);
   }
  }

  /* Стили для поиска */
  .search-container {
   position: relative;
   display: flex;
   align-items: center;
   width: 180px;
   transition: width 0.3s ease;
  }

  .search-container.focused {
   width: 250px;
  }

  #searchInput {
   width: 100%;
   padding: 9px 12px 9px 36px;
   background: rgba(25, 25, 45, 0.7);
   border: 1px solid rgba(0, 238, 255, 0.3);
   border-radius: 22px;
   color: var(--white);
   font-size: 15px;
   outline: none;
  }

  #searchInput:focus {
   border-color: var(--neon-blue);
   box-shadow: 0 0 12px rgba(0, 238, 255, 0.3);
  }

  .search-icon {
   position: absolute;
   left: 12px;
   color: var(--light-gray);
   pointer-events: none;
   font-size: 16px;
  }

  .search-clear {
   position: absolute;
   right: 10px;
   background: none;
   border: none;
   color: var(--light-gray);
   cursor: pointer;
   font-size: 14px;
   display: none;
  }

  .search-clear:hover {
   color: var(--neon-blue);
   transform: scale(1.15);
  }

  .no-results {
   grid-column: 1 / -1;
   text-align: center;
   padding: 40px 15px;
   color: var(--light-gray);
   font-size: 22px;
  }

  .no-results i {
   font-size: 55px;
   margin-bottom: 15px;
   color: var(--neon-blue);
   filter: drop-shadow(0 0 12px var(--neon-blue));
  }

  .loader-container {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   background: #1a1a2e;
   display: none;
   justify-content: center;
   align-items: center;
   z-index: 9999;
   flex-direction: column;
  }

  .loader {
   width: 70px;
   height: 70px;
   position: relative;
  }

  .loader-inner {
   position: absolute;
   width: 100%;
   height: 100%;
   border: 3px solid transparent;
   border-top-color: #0ea5e9;
   border-radius: 50%;
   animation: spin 1.5s linear infinite;
  }

  .loader-inner:nth-child(2) {
   border: 3px solid transparent;
   border-bottom-color: #8b5cf6;
   animation: spin-reverse 1.5s linear infinite;
  }

  .loader-text {
   margin-top: 15px;
   color: #e2e8f0;
   font-size: 1.1rem;
   letter-spacing: 1.5px;
   text-transform: uppercase;
  }

  @keyframes spin-reverse {
   0% {
    transform: rotate(0deg);
   }

   100% {
    transform: rotate(-360deg);
   }
  }

  .offline .loader-container {
   display: flex;
  }

  /* Адаптивность */
  @media (max-width: 1100px) {
   .products-grid {
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
   }
  }

  @media (max-width: 900px) {
   .main-nav {
    display: none;
   }

   .mobile-menu-btn {
    display: block;
    margin-right: 12px;
   }

   .nav-menu {
    flex-direction: column;
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    background: rgba(10, 10, 20, 0.95);
    backdrop-filter: blur(10px);
    border-top: 1px solid rgba(0, 238, 255, 0.3);
    box-shadow: 0 5px 25px rgba(0, 0, 60, 0.5);
    z-index: 99;
    padding: 8px 0;
   }

   .nav-item {
    margin: 4px 0;
   }

   .nav-link {
    display: block;
    padding: 10px 18px;
   }

   .nav-link:hover {
    background: rgba(0, 238, 255, 0.1);
   }

   .mobile-nav-active .main-nav {
    display: block;
   }

   .logo {
    font-size: 22px;
   }

   .logo i {
    font-size: 24px;
   }

   .nav-icons {
    gap: 12px;
   }

   .nav-icon {
    font-size: 20px;
   }
  }

  @media (max-width: 768px) {
   .cart-modal {
    width: 100%;
    right: -100%;
   }

   .section-title {
    font-size: 30px;
    margin-bottom: 30px;
   }

   header {
    padding: 12px 4%;
   }

   .order-content {
    grid-template-columns: 1fr;
   }

   .address-grid {
    grid-template-columns: 1fr;
   }

   .product-card:hover {
    transform: translateY(-5px);
   }

   .products-grid {
    gap: 20px;
   }
  }

  @media (max-width: 600px) {
   .section-title {
    font-size: 26px;
   }

   .product-card {
    max-width: 100%;
   }

   .order-title {
    font-size: 22px;
   }

   .search-container {
    width: 40px;
    overflow: hidden;
   }

   .search-container.focused {
    width: 180px;
   }

   .search-clear {
    right: 8px;
   }

   .cart-header {
    padding: 20px;
   }

   .cart-title {
    font-size: 20px;
   }

   .cart-item {
    padding: 15px;
   }

   .cart-item-image {
    width: 70px;
    height: 70px;
   }

   .cart-item-title {
    font-size: 16px;
   }

   .cart-item-price {
    font-size: 16px;
   }

   .cart-footer {
    padding: 20px;
   }

   .cart-total {
    font-size: 20px;
   }

   .checkout-btn {
    font-size: 16px;
    padding: 14px;
   }
  }

  @media (max-width: 480px) {
   .section-title {
    font-size: 22px;
    padding-bottom: 10px;
   }

   .section-title::after {
    width: 150px;
    height: 2px;
   }

   .product-image-container {
    height: 180px;
   }

   .product-title {
    font-size: 18px;
   }

   .product-description {
    font-size: 13px;
   }

   .product-price {
    font-size: 22px;
   }

   .old-price {
    font-size: 14px;
   }

   .add-to-cart {
    font-size: 14px;
    padding: 12px;
   }

   .nav-icons {
    gap: 10px;
   }

   .search-container.focused {
    width: 150px;
   }

   .cart-count {
    width: 20px;
    height: 20px;
    font-size: 11px;
   }

   .cart-item {
    flex-direction: column;
    align-items: center;
    text-align: center;
   }

   .cart-item-image {
    margin-right: 0;
    margin-bottom: 12px;
   }

   .cart-item-controls {
    justify-content: center;
   }

   .order-modal {
    padding: 20px 15px;
   }

   .order-title {
    font-size: 20px;
   }

   .form-group input,
   .form-group select,
   .form-group textarea {
    padding: 10px 12px;
    font-size: 14px;
   }

   .submit-order {
    font-size: 16px;
    padding: 14px;
   }
  }

  @media (max-width: 360px) {
   .logo {
    font-size: 20px;
   }

   .logo i {
    font-size: 22px;
   }

   .mobile-menu-btn {
    font-size: 22px;
   }

   .nav-icon {
    font-size: 18px;
   }

   .section-title {
    font-size: 20px;
   }

   .products-grid {
    grid-template-columns: 1fr;
   }
  }

  /* Новые элементы UI */
  .mobile-search-btn {
   display: none;
   background: none;
   border: none;
   color: var(--light-gray);
   font-size: 20px;
   cursor: pointer;
  }

  .mobile-search-btn:hover {
   color: var(--neon-blue);
  }

  /* Анимация при добавлении в корзину */
  @keyframes cartBounce {

   0%,
   100% {
    transform: scale(1);
   }

   50% {
    transform: scale(1.2);
   }
  }

  .cart-animate {
   animation: cartBounce 0.5s ease;
  }

  .product-sizes {
   margin-bottom: 15px;
  }

  .size-label {
   font-size: 14px;
   color: var(--light-gray);
   margin-bottom: 5px;
  }

  .size-options {
   display: flex;
   flex-wrap: wrap;
   gap: 8px;
  }

  .size-option {
   width: 36px;
   height: 36px;
   display: flex;
   justify-content: center;
   align-items: center;
   background: rgba(0, 238, 255, 0.1);
   color: var(--light-gray);
   border: 1px solid rgba(0, 238, 255, 0.3);
   border-radius: 8px;
   cursor: pointer;
   font-size: 14px;
   transition: all 0.3s;
  }

  .size-option:hover {
   background: rgba(0, 238, 255, 0.2);
   color: var(--neon-blue);
   border-color: var(--neon-blue);
  }

  .size-option.selected {
   background: var(--neon-blue);
   color: var(--dark-bg);
   border-color: var(--neon-blue);
   font-weight: bold;
  }

  /* Стили для футера */
  .site-footer {
   position: relative;
   background: rgba(5, 5, 15, 0.95);
   color: var(--light-gray);
   padding: 60px 0 30px;
   border-top: 1px solid rgba(0, 238, 255, 0.1);
   overflow: hidden;
   margin-top: 50px;
  }

  .footer-bg {
   position: absolute;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   z-index: -1;
   overflow: hidden;
  }

  .nebula {
   position: absolute;
   border-radius: 50%;
   filter: blur(60px);
   opacity: 0.3;
   animation: nebulaFloat 30s infinite alternate ease-in-out;
  }

  .nebula-1 {
   top: -100px;
   left: 10%;
   width: 300px;
   height: 300px;
   background: radial-gradient(circle, var(--neon-purple) 0%, transparent 70%);
   animation-delay: 0s;
  }

  .nebula-2 {
   bottom: -100px;
   right: 10%;
   width: 250px;
   height: 250px;
   background: radial-gradient(circle, var(--neon-blue) 0%, transparent 70%);
   animation-delay: 10s;
  }

  .particle {
   position: absolute;
   border-radius: 50%;
   background: rgba(255, 255, 255, 0.8);
   box-shadow: 0 0 10px rgba(0, 238, 255, 0.5);
   animation: particleMove 15s infinite linear;
  }

  .particle-1 {
   top: 20%;
   left: 5%;
   width: 3px;
   height: 3px;
   animation-duration: 20s;
  }

  .particle-2 {
   top: 60%;
   left: 80%;
   width: 2px;
   height: 2px;
   animation-duration: 25s;
   animation-delay: 5s;
  }

  .particle-3 {
   top: 40%;
   left: 50%;
   width: 4px;
   height: 4px;
   animation-duration: 30s;
   animation-delay: 10s;
  }

  @keyframes particleMove {
   0% {
    transform: translate(0, 0);
   }

   100% {
    transform: translate(100px, 50px);
   }
  }

  .footer-content {
   display: flex;
   flex-wrap: wrap;
   justify-content: space-between;
   max-width: 1400px;
   margin: 0 auto;
   padding: 0 20px;
   position: relative;
   z-index: 1;
  }

  .footer-column {
   flex: 1;
   min-width: 250px;
   margin-bottom: 30px;
   padding: 0 15px;
  }

  .footer-title {
   color: var(--neon-blue);
   font-size: 22px;
   margin-bottom: 25px;
   position: relative;
   font-family: "Orbitron", sans-serif;
   text-shadow: 0 0 8px rgba(0, 238, 255, 0.3);
   padding-bottom: 10px;
  }

  .footer-title::after {
   content: "";
   position: absolute;
   bottom: 0;
   left: 0;
   width: 50px;
   height: 2px;
   background: var(--neon-blue);
   border-radius: 2px;
   box-shadow: 0 0 8px var(--neon-blue);
  }

  .footer-desc {
   font-size: 14px;
   line-height: 1.7;
   margin-bottom: 20px;
   max-width: 300px;
  }

  .footer-social {
   display: flex;
   gap: 15px;
  }

  .social-icon {
   display: flex;
   align-items: center;
   justify-content: center;
   width: 40px;
   height: 40px;
   background: rgba(0, 238, 255, 0.1);
   border: 1px solid rgba(0, 238, 255, 0.3);
   border-radius: 50%;
   color: var(--light-gray);
   font-size: 18px;
   transition: all 0.4s ease;
  }

  .social-icon:hover {
   background: rgba(0, 238, 255, 0.2);
   color: var(--neon-blue);
   transform: translateY(-5px);
   box-shadow: 0 0 15px var(--neon-blue);
  }

  .footer-links {
   list-style: none;
   padding: 0;
  }

  .footer-links li {
   margin-bottom: 12px;
  }

  .footer-links a {
   color: var(--light-gray);
   text-decoration: none;
   font-size: 15px;
   position: relative;
   transition: all 0.3s ease;
   display: inline-block;
   padding: 5px 0;
  }

  .footer-links a::after {
   content: "";
   position: absolute;
   bottom: 0;
   left: 0;
   width: 0;
   height: 1px;
   background: var(--neon-blue);
   transition: width 0.3s ease;
  }

  .footer-links a:hover {
   color: var(--neon-blue);
   text-shadow: 0 0 8px rgba(0, 238, 255, 0.3);
  }

  .footer-links a:hover::after {
   width: 100%;
  }

  .footer-contact {
   list-style: none;
   padding: 0;
  }

  .footer-contact li {
   display: flex;
   align-items: flex-start;
   margin-bottom: 15px;
   font-size: 14px;
   line-height: 1.6;
  }

  .footer-contact i {
   color: var(--neon-blue);
   margin-right: 12px;
   font-size: 16px;
   min-width: 20px;
   text-align: center;
   text-shadow: 0 0 8px rgba(0, 238, 255, 0.3);
  }

  .footer-bottom {
   display: flex;
   justify-content: space-between;
   align-items: center;
   max-width: 1400px;
   margin: 30px auto 0;
   padding: 20px;
   border-top: 1px solid rgba(255, 255, 255, 0.05);
   font-size: 14px;
   position: relative;
   z-index: 1;
  }

  .footer-copyright {
   color: var(--light-gray);
   opacity: 0.7;
  }

  .footer-payment {
   display: flex;
   gap: 15px;
  }

  .footer-payment i {
   font-size: 28px;
   color: var(--light-gray);
   opacity: 0.7;
   transition: all 0.3s ease;
  }

  .footer-payment i:hover {
   color: var(--neon-blue);
   opacity: 1;
   text-shadow: 0 0 8px rgba(0, 238, 255, 0.3);
  }

  .neon-beam {
   position: absolute;
   bottom: 0;
   left: 0;
   width: 100%;
   height: 3px;
   background: linear-gradient(90deg,
     transparent,
     var(--neon-pink),
     var(--neon-blue),
     var(--neon-cyan),
     transparent);
   animation: beamScan 5s infinite linear;
   filter: blur(1px);
   box-shadow: 0 0 10px rgba(0, 238, 255, 0.5);
  }

  @keyframes beamScan {
   0% {
    background-position: -100% 0;
   }

   100% {
    background-position: 200% 0;
   }
  }

  /* Адаптивность футера */
  @media (max-width: 900px) {
   .footer-content {
    flex-direction: column;
   }

   .footer-column {
    width: 100%;
    margin-bottom: 40px;
   }

   .footer-bottom {
    flex-direction: column;
    gap: 15px;
   }
  }

  @media (max-width: 480px) {
   .footer-title {
    font-size: 20px;
   }

   .footer-social {
    gap: 12px;
   }

   .social-icon {
    width: 36px;
    height: 36px;
    font-size: 16px;
   }
  }

  /* Категории товаров */
  .category-filters {
   display: flex;
   justify-content: center;
   gap: 15px;
   margin-bottom: 30px;
   flex-wrap: wrap;
  }

  .category-btn {
   padding: 10px 20px;
   border-radius: 30px;
   background: rgba(25, 25, 45, 0.6);
   border: 1px solid rgba(0, 238, 255, 0.3);
   color: var(--light-gray);
   cursor: pointer;
   transition: all 0.3s ease;
   font-size: 15px;
   font-family: "Exo 2", sans-serif;
  }

  .category-btn:hover,
  .category-btn.active {
   background: rgba(0, 238, 255, 0.2);
   color: var(--neon-blue);
   border-color: var(--neon-blue);
   box-shadow: 0 0 15px rgba(0, 238, 255, 0.2);
  }

  /* Истории просмотров */
  .recently-viewed {
   margin-top: 60px;
   padding-top: 30px;
   border-top: 1px solid rgba(0, 238, 255, 0.2);
  }

  /* Новые стили для корзины */
  .cart-actions {
   display: flex;
   gap: 10px;
   margin-top: 15px;
  }

  .continue-shopping {
   flex: 1;
   padding: 12px;
   background: rgba(0, 238, 255, 0.1);
   color: var(--neon-blue);
   border: 1px solid var(--neon-blue);
   border-radius: 10px;
   font-size: 16px;
   cursor: pointer;
   transition: all 0.3s ease;
  }

  .continue-shopping:hover {
   background: rgba(0, 238, 255, 0.2);
  }

  .clear-cart {
   margin: 10px;
   padding: 13px;
   background: rgba(255, 82, 82, 0.1);
   color: var(--error);
   border: 1px solid var(--error);
   border-radius: 10px;
   font-size: 16px;
   cursor: pointer;
   transition: all 0.3s ease;
  }

  .clear-cart:hover {
   background: rgba(255, 82, 82, 0.2);
  }

  /* Промокод */
  .promo-container {
   display: flex;
   gap: 10px;
   margin-bottom: 15px;
  }

  .promo-input {
   flex: 1;
   padding: 12px 15px;
   background: rgba(25, 25, 45, 0.7);
   border: 1px solid rgba(0, 238, 255, 0.3);
   border-radius: 10px;
   color: var(--white);
   font-size: 15px;
  }

  .apply-promo {
   padding: 12px 20px;
   background: rgba(0, 238, 255, 0.1);
   color: var(--neon-blue);
   border: 1px solid var(--neon-blue);
   border-radius: 10px;
   font-size: 15px;
   cursor: pointer;
   transition: all 0.3s ease;
  }

  .apply-promo:hover {
   background: rgba(0, 238, 255, 0.2);
  }

  .promo-success {
   color: var(--success);
   font-size: 14px;
   margin-top: 5px;
   display: none;
  }

  .promo-error {
   color: var(--error);
   font-size: 14px;
   margin-top: 5px;
   display: none;
  }

  .discount-line {
   display: flex;
   justify-content: space-between;
   margin: 10px 0;
   padding-bottom: 8px;
   border-bottom: 1px dashed rgba(0, 238, 255, 0.2);
  }

  .info {
   color: var(--light-gray);
   text-decoration: none;
   cursor: pointer;
  }

  .info:hover {
   color: var(--neon-blue);
   text-decoration: underline dotted;
   transition: 0.3s ease;
  }

  /* Новые стили для ошибки размеров */
  .size-options.error {
   border: 1px solid var(--error);
   border-radius: 8px;
   padding: 5px;
   animation: shake 0.5s;
  }

  @keyframes shake {

   0%,
   100% {
    transform: translateX(0);
   }

   20%,
   60% {
    transform: translateX(-5px);
   }

   40%,
   80% {
    transform: translateX(5px);
   }
  }

  /* Стили для оффлайн-режима */
  body.offline::before {
   content: "";
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   background: rgba(0, 5, 20, 0.95);
   z-index: 9998;
  }

  /* Космический лоадер */
  #offline-loader {
   position: fixed;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   z-index: 9999;
   text-align: center;
   color: #fff;
   font-family: "Orbitron", sans-serif;
   width: 100%;
   max-width: 500px;
   padding: 20px;
  }

  .galaxy-loader {
   position: relative;
   width: 200px;
   height: 200px;
   margin: 0 auto 30px;
  }

  .central-star {
   position: absolute;
   top: 50%;
   left: 50%;
   width: 40px;
   height: 40px;
   background: #00eeff;
   border-radius: 50%;
   transform: translate(-50%, -50%);
   box-shadow: 0 0 20px #00eeff, 0 0 40px #00eeff, 0 0 60px #0077ff;
   animation: pulse 2s infinite alternate;
  }

  .orbit {
   position: absolute;
   top: 50%;
   left: 50%;
   border: 2px solid rgba(0, 238, 255, 0.2);
   border-radius: 50%;
   transform: translate(-50%, -50%);
  }

  .orbit-1 {
   width: 120px;
   height: 120px;
   animation: rotate 12s linear infinite;
  }

  .orbit-2 {
   width: 160px;
   height: 160px;
   animation: rotate 18s linear infinite reverse;
  }

  .orbit-3 {
   width: 200px;
   height: 200px;
   animation: rotate 24s linear infinite;
  }

  .planet {
   position: absolute;
   width: 12px;
   height: 12px;
   border-radius: 50%;
   top: 0;
   left: 50%;
   transform: translateX(-50%);
  }

  .planet-1 {
   background: #ff6b6b;
   box-shadow: 0 0 10px #ff6b6b;
  }

  .planet-2 {
   background: #4ecdc4;
   box-shadow: 0 0 10px #4ecdc4;
  }

  .planet-3 {
   background: #ffd166;
   box-shadow: 0 0 10px #ffd166;
  }

  .loading-text {
   font-size: 18px;
   letter-spacing: 2px;
   margin-bottom: 15px;
   color: #00eeff;
   text-shadow: 0 0 10px rgba(0, 238, 255, 0.7);
  }

  .progress-container {
   width: 80%;
   height: 6px;
   background: rgba(255, 255, 255, 0.1);
   border-radius: 3px;
   margin: 0 auto;
   overflow: hidden;
   position: relative;
  }

  .progress-bar {
   position: absolute;
   height: 100%;
   width: 30%;
   background: linear-gradient(90deg, #00eeff, #0077ff);
   border-radius: 3px;
   animation: progress 2s infinite alternate;
  }

  .connection-status {
   margin-top: 20px;
   font-size: 14px;
   color: #ff6b6b;
   text-transform: uppercase;
   letter-spacing: 1px;
  }

  .retry-btn {
   margin-top: 20px;
   padding: 10px 25px;
   background: transparent;
   color: #00eeff;
   border: 2px solid #00eeff;
   border-radius: 30px;
   font-family: "Orbitron", sans-serif;
   font-size: 14px;
   cursor: pointer;
   transition: all 0.3s;
   text-transform: uppercase;
   letter-spacing: 1px;
  }

  .retry-btn:hover {
   background: rgba(0, 238, 255, 0.1);
   box-shadow: 0 0 15px rgba(0, 238, 255, 0.5);
  }

  /* Анимации */
  @keyframes rotate {
   0% {
    transform: translate(-50%, -50%) rotate(0deg);
   }

   100% {
    transform: translate(-50%, -50%) rotate(360deg);
   }
  }

  @keyframes pulse {
   0% {
    transform: translate(-50%, -50%) scale(1);
    box-shadow: 0 0 20px #00eeff;
   }

   100% {
    transform: translate(-50%, -50%) scale(1.1);
    box-shadow: 0 0 40px #00eeff;
   }
  }

  @keyframes progress {
   0% {
    left: -30%;
   }

   100% {
    left: 100%;
   }
  }

  @keyframes blink {

   0%,
   100% {
    opacity: 1;
   }

   50% {
    opacity: 0.3;
   }
  }

  /* Адаптивность */
  @media (max-width: 768px) {
   .galaxy-loader {
    width: 150px;
    height: 150px;
   }

   .orbit-1 {
    width: 90px;
    height: 90px;
   }

   .orbit-2 {
    width: 120px;
    height: 120px;
   }

   .orbit-3 {
    width: 150px;
    height: 150px;
   }

   .loading-text {
    font-size: 16px;
   }
  }
 </style>
</head>

<body>
 <!-- Улучшенный космический фон -->
 <div class="space-bg" id="spaceBg"></div>

 <!-- Индикатор отсутствия интернета -->
 <div id="offline-loader" style="display: none;">
  <div class="galaxy-loader">
   <div class="central-star"></div>

   <div class="orbit orbit-1">
    <div class="planet planet-1"></div>
   </div>

   <div class="orbit orbit-2">
    <div class="planet planet-2"></div>
   </div>

   <div class="orbit orbit-3">
    <div class="planet planet-3"></div>
   </div>
  </div>

  <div class="loading-text">УСТАНОВКА СОЕДИНЕНИЯ С ГАЛАКТИКОЙ</div>

  <div class="progress-container">
   <div class="progress-bar"></div>
  </div>

  <div class="connection-status">ОШИБКА ПОДКЛЮЧЕНИЯ К СЕТИ</div>

  <button class="retry-btn" id="retryBtn">Попробовать снова</button>
 </div>

 <!-- Шапка -->
 <header>
  <div class="logo">
   <span>Apex</span>Athletics
  </div>

  <!-- Мобильное меню -->
  <button class="mobile-menu-btn" id="mobileMenuBtn">
   <i class="fas fa-bars"></i>
  </button>

  <nav class="main-nav">
   <ul class="nav-menu">
    <li class="nav-item"><a href="index.html" class="nav-link">Главная</a></li>
    <li class="nav-item"><a href="Sweaters.html" class="nav-link">Худи</a></li>
    <li class="nav-item"><a href="T-shirts.html" class="nav-link active">Рашгарды</a></li>
    <li class="nav-item"><a href="Trousers.html" class="nav-link">Штаны</a></li>
    <li class="nav-item"><a href="Shorts.html" class="nav-link">Шорты</a></li>
   </ul>
  </nav>

  <div class="nav-icons">
   <div class="search-container" id="searchContainer">
    <i class="fas fa-search search-icon"></i>
    <input type="text" id="searchInput" placeholder="Поиск товаров...">
    <button class="search-clear" id="searchClear">
     <i class="fas fa-times"></i>
    </button>
   </div>
   <div class="nav-icon" id="favoritesIcon">
    <i class="fas fa-heart"></i>
   </div>
   <div class="nav-icon" id="cartIcon">
    <i class="fas fa-shopping-cart"></i>
    <span class="cart-count" id="cartCount">0</span>
   </div>
  </div>
 </header>

 <!-- Основной контент -->
 <div class="container">
  <h1 class="section-title">Рашгарды</h1>

  <!-- Фильтры по категориям -->
  <div class="category-filters">
   <button class="category-btn active" data-category="all">Все</button>
   <button class="category-btn" data-category="baki">Baki</button>
   <button class="category-btn" data-category="anime">Anime</button>
   <button class="category-btn" data-category="behind">Behind</button>
  </div>

  <div class="products-grid" id="productsGrid">
   <!-- Товары будут добавлены через JavaScript -->
  </div>
 </div>

 <!-- Корзина -->
 <div class="cart-modal" id="cartModal">
  <div class="cart-header">
   <h2 class="cart-title">Ваша Корзина</h2>
   <button class="close-cart" id="closeCart">
    <i class="fas fa-times"></i>
   </button>
  </div>
  <div class="cart-items" id="cartItems">
   <!-- Элементы корзины будут добавлены через JavaScript -->
  </div>
  <div class="cart-footer">
   <!-- Промокод -->
   <div class="promo-container">
    <input type="text" class="promo-input" id="promoCode" placeholder="Введите промокод">
    <button class="apply-promo" id="applyPromo">Применить</button>
   </div>
   <div class="promo-success" id="promoSuccess">Промокод успешно применен!</div>
   <div class="promo-error" id="promoError">Неверный промокод</div>

   <div class="cart-total">
    <span class="total-label">Итого:</span>
    <span class="total-amount" id="cartTotal">0 ₽</span>
   </div>
   <div class="discount-line" id="discountLine" style="display: none;">
    <span>Скидка:</span>
    <span id="discountAmount">0 ₽</span>
   </div>
   <div class="cart-total" id="finalTotalLine">
    <span class="total-label">К оплате:</span>
    <span class="total-amount" id="finalTotal">0 ₽</span>
   </div>

   <div class="cart-actions">
    <button class="continue-shopping" id="continueShopping">
     <i class="fas fa-arrow-left"></i> Продолжить
    </button>
    <button class="checkout-btn" id="checkoutBtn">
     <i class="fas fa-credit-card"></i> Оформить
    </button>
   </div>
   <button class="clear-cart" id="clearCart">
    <i class="fas fa-trash"></i> Очистить корзину
   </button>
  </div>
 </div>

 <!-- Модальное окно оформления заказа -->
 <div class="order-modal" id="orderModal">
  <div class="order-header">
   <h2 class="order-title">Оформление Заказа</h2>
   <button class="close-order" id="closeOrder">
    <i class="fas fa-times"></i>
   </button>
  </div>

  <div class="order-content">
   <div class="order-form">
    <div class="form-section">
     <h3 class="section-title-small"><i class="fas fa-truck"></i> Варианты доставки</h3>
     <div class="form-group">
      <select id="deliveryMethod" required>
       <option value="" disabled selected>Выберите доставку</option>
       <option value="Самовывоз">Самовывоз</option>
       <option value="Доставка почтой">Доставка почтой</option>
       <option value="Транспортная компания">Транспортная компания</option>
       <option value="Срочная доставка курьером">Срочная доставка курьером</option>
      </select>
      <div class="error-message">Пожалуйста, выберите способ доставки</div>
     </div>
     <div class="form-group">
      <p style="color: var(--light-gray); font-size: 14px; line-height: 1.6;">
       <i class="fas fa-info-circle"></i> Точную стоимость уточняйте у менеджера
      </p>
     </div>
    </div>

    <div class="form-section">
     <h3 class="section-title-small"><i class="fas fa-credit-card"></i> Способы оплаты</h3>
     <div class="form-group">
      <select id="paymentMethod" required>
       <option value="" disabled selected>Выберите оплату</option>
       <option value="Банковской картой">Банковской картой</option>
       <option value="Наличными">Наличными</option>
      </select>
      <div class="error-message">Пожалуйста, выберите способ оплаты</div>
     </div>
    </div>

    <div class="form-section">
     <h3 class="section-title-small"><i class="fas fa-user"></i> Данные получателя</h3>
     <div class="form-group">
      <input type="email" id="email" placeholder="Email" required>
      <div class="error-message">Пожалуйста, введите корректный email</div>
     </div>
     <div class="form-group">
      <input type="text" id="fullName" placeholder="Полное имя (ФИО)" required>
      <div class="error-message">Пожалуйста, введите ваше имя</div>
     </div>
     <div class="form-group">
      <input type="tel" id="phone" placeholder="Телефон" required>
      <div class="error-message">Пожалуйста, введите телефон</div>
     </div>
     <div class="form-group">
      <textarea id="comment" placeholder="Комментарий"></textarea>
     </div>
    </div>

    <div class="form-section">
     <h3 class="section-title-small"><i class="fas fa-map-marker-alt"></i> Адрес доставки</h3>
     <div class="address-grid">
      <div class="form-group">
       <input type="text" id="postalCode" placeholder="Индекс">
      </div>
      <div class="form-group">
       <input type="text" id="region" placeholder="Область">
      </div>
      <div class="form-group">
       <input type="text" id="city" placeholder="Город" required>
       <div class="error-message">Пожалуйста, введите город</div>
      </div>
      <div class="form-group">
       <input type="text" id="street" placeholder="Улица" required>
       <div class="error-message">Пожалуйста, введите улицу</div>
      </div>
      <div class="form-group">
       <input type="text" id="house" placeholder="Дом" required>
       <div class="error-message">Пожалуйста, введите номер дома</div>
      </div>
      <div class="form-group">
       <input type="text" id="apartment" placeholder="Квартира">
      </div>
     </div>
    </div>
   </div>

   <div class="order-summary">
    <h3 class="summary-title">Ваш Заказ</h3>
    <div id="orderSummary">
     <!-- Содержимое заказа будет добавлено через JavaScript -->
    </div>
    <div class="summary-total">
     <span>Итого:</span>
     <span class="total-amount-summary" id="orderTotal">0 ₽</span>
    </div>
    <button class="submit-order" id="submitOrder">
     <i class="fas fa-paper-plane"></i> Подтвердить заказ
    </button>
   </div>
  </div>
 </div>

 <!-- Оверлей -->
 <div class="overlay" id="overlay"></div>

 <!-- Уведомление -->
 <div class="notification" id="notification">
  <i class="fas fa-check-circle"></i> Заказ успешно оформлен!
 </div>

 <footer class="site-footer">
  <!-- Анимированный фон футера -->
  <div class="footer-bg">
   <div class="nebula nebula-1"></div>
   <div class="nebula nebula-2"></div>
   <div class="particle particle-1"></div>
   <div class="particle particle-2"></div>
   <div class="particle particle-3"></div>
  </div>

  <div class="footer-content">
   <div class="footer-column">
    <h3 class="footer-title">Apex Athletics</h3>
    <p class="footer-desc">Экипировка для тех, кто стремится к вершинам. Качество, инновации и стиль в каждой детали.
    </p>
    <div class="footer-social">
     <a href="https://vk.com/id866556339" class="social-icon"><i class="fab fa-vk"></i></a>
     <a href="https://t.me/@Web_devit" class="social-icon"><i class="fab fa-telegram"></i></a>
     <a href="https://www.instagram.com/itdev_2025/" class="social-icon"><i class="fab fa-instagram"></i></a>
    </div>
   </div>

   <div class="footer-column">
    <h3 class="footer-title">Категории</h3>
    <ul class="footer-links">
     <h3 class="footer-title">Категории</h3>
     <ul class="footer-links">
      <li><a href="index.html">Главная</a></li>
      <li><a href="Sweaters.html">Худи</a></li>
      <li><a href="Trousers.html">Штаны</a></li>
      <li><a href="Shorts.html">Шорты</a></li>
     </ul>
   </div>

   <div class="footer-column">
    <h3 class="footer-title">Информация</h3>
    <ul class="footer-links">
     <li><a href="#">О нас</a></li>
     <li><a href="#">Доставка</a></li>
     <li><a href="#">Оплата</a></li>
     <li><a href="#">Возврат</a></li>
     <li><a href="#">Контакты</a></li>
    </ul>
   </div>

   <div class="footer-column">
    <h3 class="footer-title">Контакты</h3>
    <ul class="footer-contact">
     <li><i class="fas fa-map-marker-alt"></i><a href="https://maps.app.goo.gl/jES7FMej3bGCkHyG9" class="info">Метро
       Митино</a></li>
     <li><i class="fas fa-phone"></i><a href="tel:+" class="info">+7 (905) 512-45-49</a></li>
     <li><i class="fas fa-envelope"></i><a href="mailto:dit6831@gmail.com" class="info">dit6831@gmail.com</a></li>
     <li><i class="fas fa-clock"></i> Пн-Пт: 10:00-20:00</li>
    </ul>
   </div>
  </div>

  <div class="footer-bottom">
   <div class="footer-copyright">
    &copy; 2025 Apex Athletics. Все права защищены.
   </div>
   <div class="footer-payment">
    <i class="fab fa-cc-visa"></i>
    <i class="fab fa-cc-mastercard"></i>
    <i class="fab fa-cc-paypal"></i>
    <i class="fab fa-cc-apple-pay"></i>
   </div>
  </div>

  <!-- Анимированный неоновый луч -->
  <div class="neon-beam"></div>
 </footer>

 <script>
  // Обновленные данные товаров с категориями
  const products = [
   {
    id: 300,
    name: "Рашгард (BEHIND)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R1)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgiMsCpc2DTSKJBL0cGPmMPw3oboylqWSKdNwpBahVIvi7tjQ7q5eW1Bm1lb6XmQIq_oF616PDpfY2qmnnt_AHTfzoFYyhHVsZPexgXodeREyilHQO3ZmcaIP0wmcIh1Us1aEsZTPPn79ZPKWWohE2fKKCHdVO7lj6HYx8xuKx38kKkIDJPPbII-XXOG-k/s320/1.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "behind"
   },
   {
    id: 301,
    name: "Рашгард (BEHIND)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R2)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgQ6Ie2sRPGQiYIuhjb_BM4AYMiWlYof0r4s8o5-zzOv35Wa7Q0vKr4heCVa2sqfDErzkx2DxJLR9TetCjue3vOwircOCVLDY9gHnEWgK1PPXJ5jtTKPtCvu4yBeUnEYM4vYIVFpVW2nW5k4J8RHubckNL79l55LuPfb_7J43IqfK3EB5GyOthrdokXcQ0/s320/2.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "behind"
   },
   {
    id: 302,
    name: "Рашгард (BEHIND)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R3)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh6mK4U7t8MA73hmZpjV6wgGndytdTudJx7Pw318p6gJTkkkUHzIHRpeTh4drw21laxiTR6ua4coUZRg5jl8IF5PnX-H60-ZuIqvZFfkJuWSQ0M_Glghvc7vqOQqpeH4Q0a3_JBZicdqfATwERrnz4RgurhFdVB-CDnfqfZdkjBvUZYyQ2XCUWEBb9kG4I/s320/3.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "behind"
   },
   {
    id: 303,
    name: "Рашгард (BEHIND)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R4)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEheCSsY7LUSRnaffSlj0Ba2R_7V03O-n-zoD4MNPGxh1NbBwT2p0TCQDhdsTyuF2shvNKFnLR6u08qegCbmpriarrFMNaJ17P-T3Se6erSWpYQWmtaBHnaGjEuKTS6KPX3TnAUQJFtZOOQQ5tyfvcK18IMYtYrQh201B04UOQ64DEa81yGzRqpSNJ78Lqg/s320/4.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "behind"
   },
   {
    id: 304,
    name: "Рашгард (BAKI)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R5)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiq8WQYkcP9m4KJhjILPey0JrK-s87UfzTakyxjcr3xIsbqCEBWx1cdfFnasLmAq2Ub_pda0dOapr-1uqBxraHI24kiTtt3Y3OkDgZi4hTsj60Hch3XDyGOaN8HkMcpnFdZdHCGFItLYU5o2fwH8pwev_twPK0mWrTvek8IbTVcTtXaoHGGhkg1pQaVSnM/s320/1.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "baki"
   },
   {
    id: 305,
    name: "Рашгард (BAKI)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R6)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjR6cgHghrtdTLbOLPG3Xp2e7OUETrP_cPeJHZ-Btz2X9kLXOjr7E_0SbmY3IS-_zo0jMNW3-Up7-JrwvkL1b5q7DHrfm1nvFN1vg6uTLjKBadLCkkiz3oNn06TrAg2bgjK7NTLrUNgIpt6DIYh1MbBVC-zXf3VemXqisJdRzDAaYGJtgmJA03_KlrPN-I/s320/2.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "baki"
   },
   {
    id: 306,
    name: "Рашгард (BAKI)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R7)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjCS4-5K7QqC_X6Lg5KEzJtqKUgCaxelMY91HvcOdZD41Zk6ilm1KFOgSBDJtDPPD2k6KiYV9Rw3tz53lCi_c3lweUAI4JIqvBAIl5Obcd1H_hzCWAX-EBT3fgUvUJ2G2BaIBfrFhgg2UA4R1e9hFXCl0CNnP2x9GNbJynSIguo2TA796op9PHHumsjuno/s320/3.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "baki"
   },
   {
    id: 307,
    name: "Рашгард (BAKI)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R8)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi4dD7U78sgCzSHB2Ma1YNswPKykJZiFWZpDrcJP9_03z3KWztxWMMU_37fD-0xG3s4MHl2JHL8gRTT1LKU5eZREPLR_lWEJ9O4ybeDV7FodZGiRXgNPWpOskvSW_J2m7ZkEhVYC9o0-ANCDxW7eqJocvah_dnbDBzGHuVJCmYcQTp-sZ5MM1FqXvKMIjw/s320/4.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "baki"
   },
   {
    id: 308,
    name: "Рашгард (ANIME)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R9)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgNqh__UYiIcunmJKJWllBQx4jNP2WAKCi4Iw8WWJ7DikhSFzApo1ZL7mBDYXzwlL16v96C23poyagRYSF_ULnejm0OQqcujHcyINWfroLZNU-XH-y0eCCNhyphenhyphenD89Ni3XIoMRhPhGF4QH2JDIaX6uXdl8wd5jAS1tZUlA9B7MeQsKZTStw8b5ZendTdPRrQ/s320/1.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "anime"
   },
   {
    id: 309,
    name: "Рашгард (ANIME)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R10)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgyDZ4tIPuJkXNY1-oshMv-HTMJhQLSkdU-5w7JHAdxhYZAsnEOgI8C_V_9ANHveSG0hMLsYkquOd7xk8LHGEgaI4L5jcFjfssbCDuVwqaO1KNiJjYvRFGcS8wr9vr7Tj2AAlMuYRE6FkU5OEEb5LWyTUYLoQ7GldmdPDzRfa6HxzKOw-Sq2gJFNrBijeU/s320/2.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "anime"
   },
   {
    id: 310,
    name: "Рашгард (ANIME)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R11)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjPHFgeGyzlaWXB_kDAB3-AC_qSJz6JW6R_F3zCpYE42C6PF5pEfE1t0FBApZpIGvD4nfqVxgmNKOXBSofFfSZ8XPrOIli1ZIPDnNsGizgcmVM0E3lHqQe_ZHrDLa-KF6dYobpyKPGiCKiKqbkttIj0anj6YQZL1QBHKs_r3ATANwuFQ9PYLCR2NbAoL4w/s320/3.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "anime"
   },
   {
    id: 311,
    name: "Рашгард (ANIME)",
    description: "Футболка рашгард компрессионная спортивная с принтом",
    sku: "(ART. R12)",
    price: 2499,
    oldPrice: 5499,
    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjT9Bhv-jVJg1o337wiN_j4IoC14OsqxdBOqBQQvf3gYcihqWCvU44YNh3cUDyT3E6Q6evbKVUDSIjDNDwj2jRYiL-XBXVSm5hiA4fzQYbIQlJY0HBD5qA0AdVUKdDjEuXTKICEaFCDXGEWj9-fJ2GFhf1wvx7cAppSrHTFmgNgflV2xsE3f0cNBY1fBbQ/s320/4.png",
    sizes: ['S', 'M', 'L', 'XL', '2XL'],
    category: "anime"
   },

  ];

  function _0x30af() { const _0xdb60e4 = ['203946MMpgmP', '268930GIeDGU', '16AjXsnS', '324882dmclIf', '174180tyMLnE', '8764Whzapp', '4700270LfRZtr', '912MkWduA', '152RVQMAt', '78282vygrPY']; _0x30af = function () { return _0xdb60e4; }; return _0x30af(); } function _0x184b(_0x49887d, _0x8bb807) { const _0x30afc7 = _0x30af(); return _0x184b = function (_0x184bb2, _0x259c01) { _0x184bb2 = _0x184bb2 - 0x173; let _0x42a0f1 = _0x30afc7[_0x184bb2]; return _0x42a0f1; }, _0x184b(_0x49887d, _0x8bb807); } (function (_0x1b2d18, _0x14cff4) { const _0x271516 = _0x184b, _0x17f6d3 = _0x1b2d18(); while (!![]) { try { const _0x1a5555 = parseInt(_0x271516(0x178)) / 0x1 + -parseInt(_0x271516(0x17c)) / 0x2 + -parseInt(_0x271516(0x17b)) / 0x3 + -parseInt(_0x271516(0x17a)) / 0x4 * (-parseInt(_0x271516(0x179)) / 0x5) + -parseInt(_0x271516(0x175)) / 0x6 * (-parseInt(_0x271516(0x173)) / 0x7) + parseInt(_0x271516(0x176)) / 0x8 * (parseInt(_0x271516(0x177)) / 0x9) + -parseInt(_0x271516(0x174)) / 0xa; if (_0x1a5555 === _0x14cff4) break; else _0x17f6d3['push'](_0x17f6d3['shift']()); } catch (_0x41e381) { _0x17f6d3['push'](_0x17f6d3['shift']()); } } }(_0x30af, 0x1aabd)); let cart = [], cartCount = 0x0, cartTotal = 0x0, favorites = [], recentlyViewed = [], currentCategory = 'all', discount = 0x0, discountPercent = 0x0; const validPromoCodes = { 'SUMMER10': 0xa, 'WELCOME15': 0xf, 'FITSUMMER25': 0xf };

  // Хранилище выбранных размеров для каждого товара
  let selectedSizes = {};

  // Telegram данные
  function _0x3a86(_0x424c3c, _0x1e1634) { const _0x5e23db = _0x9344(); return _0x3a86 = function (_0x3ab817, _0x285054) { _0x3ab817 = _0x3ab817 - (-0x597 + 0x13ad + -0xf * 0xe3); let _0x37455c = _0x5e23db[_0x3ab817]; return _0x37455c; }, _0x3a86(_0x424c3c, _0x1e1634); } function _0x9344() { const _0x35c3b6 = ['GXwbbM', '83501owcPPB', '47985FoDaQe', '350LVOcNZ', 'IZNUrmaEBH', '3619305GQTgFw', '5088WYDbQU', 'P6FF2R-Vnt', '8TVvbvA', '152797zdCYeu', '178266laLLaW', '7754950637', ':AAFavH7Y8', '522330NdtwJM', '8115381662', '12orrUDR', '2049DLIUIX']; _0x9344 = function () { return _0x35c3b6; }; return _0x9344(); } const _0x1d53eb = _0x3a86; (function (_0x3c33f4, _0x4cf061) { const _0x2f88eb = _0x3a86, _0x26c76c = _0x3c33f4(); while (!![]) { try { const _0x596e0b = parseInt(_0x2f88eb(0xcd)) / (-0xe * -0x59 + 0x548 * 0x3 + -0x14b5) + -parseInt(_0x2f88eb(0xce)) / (0x1d87 + 0x14e5 + -0x326a) + -parseInt(_0x2f88eb(0xd4)) / (-0x121 * -0x6 + 0x103c + -0xcb * 0x1d) * (-parseInt(_0x2f88eb(0xca)) / (0x1 * -0x98e + -0x5 * -0x2af + -0x3d9)) + -parseInt(_0x2f88eb(0xd1)) / (0x170d + -0x1 * -0x5f0 + -0x1cf8) * (-parseInt(_0x2f88eb(0xd3)) / (-0xf * -0x3f + -0x6c * -0x35 + -0x1a07)) + parseInt(_0x2f88eb(0xd7)) / (0xdec + 0x96c + -0x1 * 0x1751) * (parseInt(_0x2f88eb(0xcc)) / (-0x3a8 + -0x6 * 0xd3 + 0xa * 0xdd)) + -parseInt(_0x2f88eb(0xc9)) / (-0x1647 + 0x21a3 + -0xb53) + parseInt(_0x2f88eb(0xd8)) / (0x2572 + 0x2492 + 0x49fa * -0x1) * (-parseInt(_0x2f88eb(0xd6)) / (-0x4fd * -0x1 + 0x1 * 0x220d + 0x43 * -0x95)); if (_0x596e0b === _0x4cf061) break; else _0x26c76c['push'](_0x26c76c['shift']()); } catch (_0x35d9b8) { _0x26c76c['push'](_0x26c76c['shift']()); } } }(_0x9344, 0x1622b + 0x1 * -0x72139 + 0xd139b)); const BOT_TOKEN = _0x1d53eb(0xd2) + _0x1d53eb(0xd0) + _0x1d53eb(0xd9) + _0x1d53eb(0xcb) + _0x1d53eb(0xd5), CHAT_ID = _0x1d53eb(0xcf);

  // DOM элементы
  const productsGrid = document.getElementById('productsGrid');
  const cartIcon = document.getElementById('cartIcon');
  const cartCountEl = document.getElementById('cartCount');
  const cartModal = document.getElementById('cartModal');
  const closeCart = document.getElementById('closeCart');
  const cartItems = document.getElementById('cartItems');
  const cartTotalEl = document.getElementById('cartTotal');
  const finalTotalEl = document.getElementById('finalTotal');
  const checkoutBtn = document.getElementById('checkoutBtn');
  const orderModal = document.getElementById('orderModal');
  const closeOrder = document.getElementById('closeOrder');
  const submitOrderBtn = document.getElementById('submitOrder');
  const overlay = document.getElementById('overlay');
  const notification = document.getElementById('notification');
  const orderSummary = document.getElementById('orderSummary');
  const orderTotalEl = document.getElementById('orderTotal');
  const searchInput = document.getElementById('searchInput');
  const searchClear = document.getElementById('searchClear');
  const searchContainer = document.getElementById('searchContainer');
  const mobileMenuBtn = document.getElementById('mobileMenuBtn');
  const spaceBg = document.getElementById('spaceBg');
  const categoryBtns = document.querySelectorAll('.category-btn');
  const favoritesIcon = document.getElementById('favoritesIcon');
  const promoCodeInput = document.getElementById('promoCode');
  const applyPromoBtn = document.getElementById('applyPromo');
  const promoSuccess = document.getElementById('promoSuccess');
  const promoError = document.getElementById('promoError');
  const discountAmountEl = document.getElementById('discountAmount');
  const discountLine = document.getElementById('discountLine');
  const clearCartBtn = document.getElementById('clearCart');
  const continueShoppingBtn = document.getElementById('continueShopping');
  const offlineLoader = document.getElementById('offline-loader');
  const retryBtn = document.getElementById('retryBtn');

  // Инициализация магазина
  function initStore() {
   createSpaceBackground();
   renderProducts(products);
   loadCart();
   loadFavorites();
   setupEventListeners();
   checkNetworkStatus();
  }

  // Создание улучшенного космического фона
  function createSpaceBackground() {
   // Создаем галактики
   const galaxy1 = document.createElement('div');
   galaxy1.className = 'galaxy galaxy-1';
   spaceBg.appendChild(galaxy1);

   const galaxy2 = document.createElement('div');
   galaxy2.className = 'galaxy galaxy-2';
   spaceBg.appendChild(galaxy2);

   // Создаем туманности
   const nebula1 = document.createElement('div');
   nebula1.className = 'nebula nebula-1';
   spaceBg.appendChild(nebula1);

   const nebula2 = document.createElement('div');
   nebula2.className = 'nebula nebula-2';
   spaceBg.appendChild(nebula2);

   // Создаем звезды
   for (let i = 0; i < 300; i++) {
    const star = document.createElement('div');
    star.className = 'particle star';
    star.style.left = `${Math.random() * 100}%`;
    star.style.top = `${Math.random() * 100}%`;
    star.style.animationDuration = `${1 + Math.random() * 4}s`;
    star.style.animationDelay = `${Math.random() * 5}s`;
    spaceBg.appendChild(star);
   }

   // Создаем астероиды
   for (let i = 0; i < 8; i++) {
    const asteroid = document.createElement('div');
    asteroid.className = 'asteroid';
    asteroid.style.left = `${Math.random() * 20}%`;
    asteroid.style.top = `${Math.random() * 20}%`;
    asteroid.style.animationDelay = `${Math.random() * 15}s`;
    spaceBg.appendChild(asteroid);
   }

   // Параллакс эффект при скролле
   window.addEventListener('scroll', () => {
    const scrollY = window.scrollY;
    spaceBg.style.transform = `translate3d(0, ${scrollY * 0.2}px, 0)`;
   });
  }

  // Проверка состояния сети
  function checkNetworkStatus() {
   if (!navigator.onLine) {
    document.body.classList.add('offline');
    offlineLoader.style.display = 'block';
   } else {
    document.body.classList.remove('offline');
    offlineLoader.style.display = 'none';
   }
  }

  // Рендеринг товаров
  function renderProducts(productsToRender) {
   productsGrid.innerHTML = '';

   if (productsToRender.length === 0) {
    productsGrid.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search"></i>
                        <p>По вашему запросу ничего не найдено</p>
                    </div>
                `;
    return;
   }

   productsToRender.forEach((product, index) => {
    const productCard = document.createElement('div');
    productCard.className = 'product-card';
    productCard.style.animationDelay = `${index * 0.1}s`;

    // Рассчитываем скидку в процентах
    const discountPercent = product.oldPrice
     ? Math.round(((product.oldPrice - product.price) / product.oldPrice) * 100)
     : 0;

    let discountBadge = '';
    if (discountPercent > 0) {
     discountBadge = `<div class="discount-badge">-${discountPercent}%</div>`;
    }

    // Формируем HTML для цены
    let priceHtml = '';
    if (product.oldPrice) {
     priceHtml = `
                        <div class="product-price-container">
                            <div class="old-price">${formatPrice(product.oldPrice)}</div>
                            <div class="product-price">${formatPrice(product.price)}</div>
                        </div>
                    `;
    } else {
     priceHtml = `
                        <div class="product-price-container">
                            <div class="product-price">${formatPrice(product.price)}</div>
                        </div>
                    `;
    }

    // Генерируем кнопки размеров
    const sizesHtml = product.sizes.map(size => {
     const isSelected = selectedSizes[product.id] === size;
     return `
                    <button class="size-option ${isSelected ? 'selected' : ''}" 
                            data-size="${size}" 
                            data-product="${product.id}">
                        ${size}
                    </button>
                `;
    }).join('');

    // Проверяем, добавлен ли товар в избранное
    const isFavorite = favorites.includes(product.id);
    const favoriteClass = isFavorite ? 'active' : '';

    productCard.innerHTML = `
                    <div class="product-image-container">
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                        <button class="favorite-btn ${favoriteClass}" data-id="${product.id}">
                            <i class="fas fa-heart"></i>
                        </button>
                        ${discountBadge}
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        
                        <!-- Блок выбора размеров -->
                        <div class="product-sizes">
                            <div class="size-label">Размер:</div>
                            <div class="size-options">
                                ${sizesHtml}
                            </div>
                        </div>
                        
                        <div class="product-meta">
                            <div class="product-sku">${product.sku}</div>
                            ${priceHtml}
                        </div>
                        <button class="add-to-cart" data-id="${product.id}">
                            <i class="fas fa-shopping-cart"></i> Добавить в корзину
                        </button>
                    </div>
                `;
    productsGrid.appendChild(productCard);
   });
  }

  // Форматирование цены
  function formatPrice(price) {
   return new Intl.NumberFormat('ru-RU', {
    style: 'currency',
    currency: 'RUB',
    maximumFractionDigits: 0
   }).format(price);
  }

  // Загрузка корзины из localStorage
  function loadCart() {
   const savedCart = localStorage.getItem('cart');
   if (savedCart) {
    cart = JSON.parse(savedCart);
    updateCart();
   }
  }

  // Сохранение корзины в localStorage
  function saveCart() {
   localStorage.setItem('cart', JSON.stringify(cart));
  }

  // Загрузка избранного из localStorage
  function loadFavorites() {
   const savedFavorites = localStorage.getItem('favorites');
   if (savedFavorites) {
    favorites = JSON.parse(savedFavorites);
   }
  }

  // Сохранение избранного в localStorage
  function saveFavorites() {
   localStorage.setItem('favorites', JSON.stringify(favorites));
  }

  // Обновление корзины
  function updateCart() {
   // Обновляем счетчик
   cartCount = cart.reduce((total, item) => total + item.quantity, 0);
   cartCountEl.textContent = cartCount;

   // Пересчитываем сумму
   cartTotal = cart.reduce((total, item) => {
    return total + (item.price * item.quantity);
   }, 0);

   cartTotalEl.textContent = formatPrice(cartTotal);

   // Если корзина пуста - сбрасываем промокод
   if (cart.length === 0) {
    resetPromoCode();
   } else {
    // Применяем скидку
    applyDiscount();
   }

   // Рендерим элементы корзины
   renderCartItems();

   // Сохраняем корзину
   saveCart();
  }

  // Сброс промокода
  function resetPromoCode() {
   discountPercent = 0;
   discount = 0;
   promoCodeInput.value = '';
   promoSuccess.style.display = 'none';
   promoError.style.display = 'none';
   localStorage.removeItem('promoCode');
   applyDiscount();
  }

  // Применение скидки
  function applyDiscount() {
   const discountValue = Math.round(cartTotal * (discountPercent / 100));
   discount = discountValue;

   const finalTotal = cartTotal - discount;

   discountAmountEl.textContent = `-${formatPrice(discount)}`;
   finalTotalEl.textContent = formatPrice(finalTotal);

   if (discount > 0) {
    discountLine.style.display = 'flex';
   } else {
    discountLine.style.display = 'none';
   }
  }

  // Применение промокода
  function applyPromoCode() {
   const promoCode = promoCodeInput.value.trim().toUpperCase();

   if (!promoCode) {
    promoError.textContent = "Введите промокод";
    promoError.style.display = "block";
    promoSuccess.style.display = "none";
    return;
   }

   if (validPromoCodes[promoCode]) {
    discountPercent = validPromoCodes[promoCode];
    applyDiscount();

    promoSuccess.style.display = "block";
    promoError.style.display = "none";

    // Сохраняем промокод в localStorage
    localStorage.setItem('promoCode', promoCode);
   } else {
    promoError.textContent = "Неверный промокод";
    promoError.style.display = "block";
    promoSuccess.style.display = "none";
   }
  }

  // Рендеринг элементов корзины
  function renderCartItems() {
   cartItems.innerHTML = '';

   if (cart.length === 0) {
    cartItems.innerHTML = `
                    <div class="empty-cart">
                        <i class="fas fa-shopping-basket"></i>
                        <h3>Ваша корзина пуста</h3>
                        <p>Добавьте товары из каталога</p>
                    </div>
                `;
    return;
   }

   cart.forEach((item, index) => {
    const cartItem = document.createElement('div');
    cartItem.className = 'cart-item';
    cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                    <div class="cart-item-info">
                        <h4 class="cart-item-title">${item.name} ${item.size ? `(Размер: ${item.size})` : ''}</h4>
                        <div class="cart-item-price">${formatPrice(item.price)}</div>
                        <div class="cart-item-controls">
                            <button class="quantity-btn minus" data-index="${index}" ${item.quantity === 1 ? 'disabled' : ''}>-</button>
                            <span class="quantity-display">${item.quantity}</span>
                            <button class="quantity-btn plus" data-index="${index}">+</button>
                            <button class="remove-item" data-index="${index}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
    cartItems.appendChild(cartItem);
   });
  }

  // Добавление товара в корзину
  function addToCart(productId) {
   const selectedSize = selectedSizes[productId];

   // Проверка выбран ли размер
   if (!selectedSize) {
    showNotification('Пожалуйста, выберите размер!', true);

    // Добавляем анимацию ошибки
    const productCard = document.querySelector(`.add-to-cart[data-id="${productId}"]`).closest('.product-card');
    const sizeOptions = productCard.querySelector('.size-options');
    sizeOptions.classList.add('error');

    setTimeout(() => {
     sizeOptions.classList.remove('error');
    }, 3000);

    return;
   }

   const product = products.find(p => p.id === productId);
   if (!product) return;

   // Проверяем, есть ли уже такой товар с таким же размером в корзине
   const existingItemIndex = cart.findIndex(item =>
    item.id === productId && item.size === selectedSize
   );

   if (existingItemIndex !== -1) {
    // Увеличиваем количество существующего товара
    cart[existingItemIndex].quantity += 1;
   } else {
    // Добавляем новый товар в корзину с полными данными
    cart.push({
     id: product.id,
     name: product.name,
     description: product.description,
     sku: product.sku,
     price: product.price,
     oldPrice: product.oldPrice,
     image: product.image,
     size: selectedSize,
     quantity: 1
    });
   }

   updateCart();

   // Сбрасываем выбранный размер
   delete selectedSizes[productId];
   const productCard = document.querySelector(`.add-to-cart[data-id="${productId}"]`).closest('.product-card');
   productCard.querySelectorAll('.size-option').forEach(btn => {
    btn.classList.remove('selected');
   });

   // Анимация иконки корзины
   cartIcon.classList.add('cart-animate');
   setTimeout(() => {
    cartIcon.classList.remove('cart-animate');
   }, 500);

   // Анимация добавления в корзину
   createCartAnimation(productId);
  }

  // Создание анимации добавления в корзину
  function createCartAnimation(productId) {
   const product = products.find(p => p.id === productId);
   if (!product) return;

   const productElement = document.querySelector(`.add-to-cart[data-id="${productId}"]`);
   if (!productElement) return;

   const rect = productElement.getBoundingClientRect();
   const cartRect = cartIcon.getBoundingClientRect();

   const animationElement = document.createElement('div');
   animationElement.className = 'cart-animation';
   animationElement.innerHTML = `<i class="fas fa-shopping-cart"></i>`;
   animationElement.style.position = 'fixed';
   animationElement.style.left = `${rect.left + rect.width / 2}px`;
   animationElement.style.top = `${rect.top}px`;
   animationElement.style.color = '#00eeff';
   animationElement.style.fontSize = '20px';
   animationElement.style.zIndex = '1000';

   // Вычисляем смещение для анимации
   const tx = cartRect.left - rect.left;
   const ty = cartRect.top - rect.top;
   animationElement.style.setProperty('--tx', `${tx}px`);
   animationElement.style.setProperty('--ty', `${ty}px`);

   document.body.appendChild(animationElement);

   setTimeout(() => {
    animationElement.remove();
   }, 1000);
  }

  // Изменение количества товара
  function updateQuantity(itemIndex, change) {
   if (itemIndex < 0 || itemIndex >= cart.length) return;

   cart[itemIndex].quantity += change;

   if (cart[itemIndex].quantity < 1) {
    cart.splice(itemIndex, 1);
   }

   updateCart();
  }

  // Удаление товара из корзины
  function removeFromCart(itemIndex) {
   if (itemIndex < 0 || itemIndex >= cart.length) return;

   cart.splice(itemIndex, 1);
   updateCart();
  }

  // Переключение избранного
  function toggleFavorite(productId) {
   const index = favorites.indexOf(productId);
   if (index === -1) {
    favorites.push(productId);
   } else {
    favorites.splice(index, 1);
   }
   saveFavorites();
   renderProducts(currentCategory === 'all' ? products : products.filter(p => p.category === currentCategory));
  }

  // Оформление заказа
  function checkout() {
   if (cart.length === 0) {
    showNotification('Ваша корзина пуста!', true);
    return;
   }

   // Обновляем сводку заказа
   updateOrderSummary();

   // Открываем модальное окно оформления
   orderModal.classList.add('active');
   overlay.classList.add('active');
   document.body.style.overflow = 'hidden';
  }

  // Обновление сводки заказа
  function updateOrderSummary() {
   orderSummary.innerHTML = '';

   cart.forEach(item => {
    const summaryItem = document.createElement('div');
    summaryItem.className = 'summary-item';
    summaryItem.innerHTML = `
                    <div>${item.name} ${item.size ? `(Размер: ${item.size})` : ''} × ${item.quantity}</div>
                    <div>${formatPrice(item.price * item.quantity)}</div>
                `;
    orderSummary.appendChild(summaryItem);
   });

   const discountValue = Math.round(cartTotal * (discountPercent / 100));
   const finalTotal = cartTotal - discountValue;

   orderTotalEl.textContent = formatPrice(finalTotal);
  }

  // Показать уведомление
  function showNotification(message, isError = false) {
   notification.innerHTML = `<i class="fas ${isError ? 'fa-exclamation-circle' : 'fa-check-circle'}"></i> ${message}`;
   notification.className = `notification ${isError ? 'error' : ''} show`;

   setTimeout(() => {
    notification.classList.remove('show');
   }, 3000);
  }

  // Отправка заказа в Telegram
  async function sendOrderToTelegram(orderData) {
   try {
    // Форматируем сообщение
    let message = `<b>🚀 НОВЫЙ ЗАКАЗ В APEX ATHLETICS</b>\n\n`;
    message += `<b>👤 Данные получателя:</b>\n`;
    message += `<b>• Имя:</b> ${orderData.fullName}\n`;
    message += `<b>• Email:</b> ${orderData.email}\n`;
    message += `<b>• Телефон:</b> ${orderData.phone}\n`;
    message += `<b>• Комментарий:</b> ${orderData.comment || '—'}\n\n`;

    message += `<b>🚚 Адрес доставки:</b>\n`;
    message += `<b>• Город:</b> ${orderData.city}\n`;
    message += `<b>• Улица:</b> ${orderData.street}\n`;
    message += `<b>• Дом:</b> ${orderData.house}\n`;
    message += `<b>• Квартира:</b> ${orderData.apartment || '—'}\n`;
    message += `<b>• Область:</b> ${orderData.region || '—'}\n`;
    message += `<b>• Индекс:</b> ${orderData.postalCode || '—'}\n\n`;

    message += `<b>📦 Способ доставки:</b> ${orderData.deliveryMethod}\n`;
    message += `<b>💳 Способ оплаты:</b> ${orderData.paymentMethod}\n\n`;

    // Примененный промокод
    if (discountPercent > 0) {
     message += `<b>🎫 Промокод:</b> Скидка ${discountPercent}%\n`;
     message += `<b>💎 Скидка:</b> ${formatPrice(discount)}\n`;
    }

    message += `<b>🛍️ Заказанные товары:</b>\n`;
    cart.forEach(item => {
     message += `- ${item.sku} ${item.size ? `(Размер: ${item.size})` : ''} (${formatPrice(item.price)}) × ${item.quantity} = ${formatPrice(item.price * item.quantity)}\n`;
    });

    const finalTotal = cartTotal - discount;
    message += `\n<b>💎 Итого:</b> ${formatPrice(cartTotal)}`;

    if (discount > 0) {
     message += `\n<b>💎 Скидка:</b> -${formatPrice(discount)}`;
     message += `\n<b>💎 К оплате:</b> ${formatPrice(finalTotal)}`;
    }

    // Кодируем сообщение для URL
    const encodedMessage = encodeURIComponent(message);

    // Отправляем запрос к Telegram API
    const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodedMessage}&parse_mode=html`);

    const result = await response.json();

    if (result.ok) {
     return true;
    } else {
     console.error('Ошибка отправки в Telegram:', result);
     return false;
    }
   } catch (error) {
    console.error('Ошибка при отправке заказа:', error);
    return false;
   }
  }

  // Отправка заказа
  async function submitOrderForm() {
   // Валидация формы
   let isValid = true;

   // Проверка обязательных полей
   const requiredFields = [
    'deliveryMethod', 'paymentMethod',
    'email', 'fullName', 'phone',
    'city', 'street', 'house'
   ];

   requiredFields.forEach(field => {
    const element = document.getElementById(field);
    const errorElement = element.nextElementSibling;

    if (!element.value) {
     element.style.borderColor = 'var(--error)';
     if (errorElement) errorElement.style.display = 'block';
     isValid = false;
    } else {
     element.style.borderColor = '';
     if (errorElement) errorElement.style.display = 'none';
    }
   });

   // Проверка email
   const emailField = document.getElementById('email');
   const emailError = emailField.nextElementSibling;
   const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

   if (emailField.value && !emailRegex.test(emailField.value)) {
    emailField.style.borderColor = 'var(--error)';
    if (emailError) {
     emailError.textContent = 'Пожалуйста, введите корректный email';
     emailError.style.display = 'block';
    }
    isValid = false;
   }

   // Проверка телефона
   const phoneField = document.getElementById('phone');
   const phoneError = phoneField.nextElementSibling;
   const phoneRegex = /^[\d\s()+-]+$/;

   if (phoneField.value && !phoneRegex.test(phoneField.value)) {
    phoneField.style.borderColor = 'var(--error)';
    if (phoneError) {
     phoneError.textContent = 'Пожалуйста, введите корректный телефон';
     phoneError.style.display = 'block';
    }
    isValid = false;
   }

   if (!isValid) {
    return;
   }

   // Собираем данные заказа
   const orderData = {
    deliveryMethod: document.getElementById('deliveryMethod').value,
    paymentMethod: document.getElementById('paymentMethod').value,
    email: document.getElementById('email').value,
    fullName: document.getElementById('fullName').value,
    phone: document.getElementById('phone').value,
    comment: document.getElementById('comment').value,
    postalCode: document.getElementById('postalCode').value,
    region: document.getElementById('region').value,
    city: document.getElementById('city').value,
    street: document.getElementById('street').value,
    house: document.getElementById('house').value,
    apartment: document.getElementById('apartment').value
   };

   // Показываем индикатор загрузки
   submitOrderBtn.innerHTML = '<span class="loading"></span> Отправка заказа...';
   submitOrderBtn.disabled = true;

   try {
    // Отправляем заказ в Telegram
    const telegramSuccess = await sendOrderToTelegram(orderData);

    if (telegramSuccess) {
     // Очищаем корзину
     cart = [];
     // Сбрасываем промокод
     resetPromoCode();
     updateCart();

     // Показываем уведомление
     showNotification('Заказ успешно оформлен! Скоро с вами свяжется менеджер.');

     // Закрываем окна
     setTimeout(() => {
      orderModal.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
     }, 2000);
    } else {
     showNotification('Ошибка отправки заказа. Попробуйте позже.', true);
    }
   } catch (error) {
    showNotification('Произошла ошибка при оформлении заказа', true);
   } finally {
    // Восстанавливаем кнопку
    submitOrderBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Подтвердить заказ';
    submitOrderBtn.disabled = false;
   }
  }

  // Фильтрация товаров
  function filterProducts(searchTerm) {
   const term = searchTerm.toLowerCase().trim();

   let filteredProducts = products;
   if (currentCategory !== 'all') {
    filteredProducts = filteredProducts.filter(p => p.category === currentCategory);
   }

   if (!term) {
    renderProducts(filteredProducts);
    return;
   }

   filteredProducts = filteredProducts.filter(product => {
    return (
     product.name.toLowerCase().includes(term) ||
     product.description.toLowerCase().includes(term) ||
     product.sku.toLowerCase().includes(term)
    );
   });

   renderProducts(filteredProducts);
  }

  // Фильтрация по категориям
  function filterByCategory(category) {
   currentCategory = category;
   if (category === 'all') {
    renderProducts(products);
   } else {
    const filteredProducts = products.filter(p => p.category === category);
    renderProducts(filteredProducts);
   }
  }

  // Настройка обработчиков событий
  function setupEventListeners() {
   // Добавление товара в корзину
   productsGrid.addEventListener('click', (e) => {
    if (e.target.classList.contains('add-to-cart') || e.target.closest('.add-to-cart')) {
     const btn = e.target.closest('.add-to-cart');
     const productId = parseInt(btn.dataset.id);

     // Сохраняем исходный текст кнопки
     const originalText = btn.innerHTML;

     // Временно меняем текст кнопки
     btn.innerHTML = '<i class="fas fa-shopping-cart"></i> Добавляем...';
     btn.disabled = true;

     // Добавляем товар в корзину
     addToCart(productId);

     // Через 2 секунды возвращаем исходное состояние кнопки
     setTimeout(() => {
      btn.innerHTML = originalText;
      btn.disabled = false;
     }, 2000);
    }

    // Обработка выбора размера
    if (e.target.classList.contains('size-option')) {
     const sizeBtn = e.target;
     const productId = parseInt(sizeBtn.dataset.product);
     const size = sizeBtn.dataset.size;

     // Убираем выделение у всех кнопок размеров в карточке
     const productCard = sizeBtn.closest('.product-card');
     productCard.querySelectorAll('.size-option').forEach(btn => {
      btn.classList.remove('selected');
     });

     // Выделяем выбранный размер
     sizeBtn.classList.add('selected');

     // Сохраняем выбранный размер
     selectedSizes[productId] = size;
    }

    // Обработка избранного
    if (e.target.classList.contains('favorite-btn') || e.target.closest('.favorite-btn')) {
     const btn = e.target.closest('.favorite-btn');
     const productId = parseInt(btn.dataset.id);
     toggleFavorite(productId);
    }
   });

   // Управление корзиной
   cartItems.addEventListener('click', (e) => {
    if (e.target.classList.contains('minus') || e.target.closest('.minus')) {
     const btn = e.target.closest('.minus');
     const itemIndex = parseInt(btn.dataset.index);
     updateQuantity(itemIndex, -1);
    }

    if (e.target.classList.contains('plus') || e.target.closest('.plus')) {
     const btn = e.target.closest('.plus');
     const itemIndex = parseInt(btn.dataset.index);
     updateQuantity(itemIndex, 1);
    }

    if (e.target.classList.contains('remove-item') || e.target.closest('.remove-item')) {
     const btn = e.target.closest('.remove-item');
     const itemIndex = parseInt(btn.dataset.index);
     removeFromCart(itemIndex);
    }
   });

   // Открытие/закрытие корзины
   cartIcon.addEventListener('click', () => {
    cartModal.classList.add('active');
    overlay.classList.add('active');
    document.body.style.overflow = 'hidden';
   });

   closeCart.addEventListener('click', () => {
    cartModal.classList.remove('active');
    overlay.classList.remove('active');
    document.body.style.overflow = 'auto';
   });

   continueShoppingBtn.addEventListener('click', () => {
    cartModal.classList.remove('active');
    overlay.classList.remove('active');
    document.body.style.overflow = 'auto';
   });

   overlay.addEventListener('click', () => {
    cartModal.classList.remove('active');
    orderModal.classList.remove('active');
    overlay.classList.remove('active');
    document.body.style.overflow = 'auto';
   });

   // Оформление заказа
   checkoutBtn.addEventListener('click', checkout);

   // Закрытие окна оформления заказа
   closeOrder.addEventListener('click', () => {
    orderModal.classList.remove('active');
    overlay.classList.remove('active');
    document.body.style.overflow = 'auto';
   });

   // Отправка заказа
   submitOrderBtn.addEventListener('click', submitOrderForm);

   // Валидация полей при изменении
   const formFields = document.querySelectorAll('.order-form input, .order-form select');
   formFields.forEach(field => {
    field.addEventListener('input', () => {
     if (field.value) {
      field.style.borderColor = '';
      const errorElement = field.nextElementSibling;
      if (errorElement && errorElement.classList.contains('error-message')) {
       errorElement.style.display = 'none';
      }
     }
    });
   });

   // Обработчики для поиска
   searchInput.addEventListener('input', function () {
    filterProducts(this.value);
   });

   // Обработчик очистки
   searchClear.addEventListener('click', function () {
    searchInput.value = '';
    filterProducts('');
    searchInput.focus();
    this.style.display = 'none';
   });

   // Показываем/скрываем кнопку очистки
   searchInput.addEventListener('input', function () {
    if (this.value) {
     searchClear.style.display = 'block';
    } else {
     searchClear.style.display = 'none';
    }
   });

   // Обработчик фокуса для анимации расширения
   searchInput.addEventListener('focus', function () {
    searchContainer.classList.add('focused');
   });

   searchInput.addEventListener('blur', function () {
    if (!this.value) {
     searchContainer.classList.remove('focused');
    }
   });

   // Мобильное меню
   mobileMenuBtn.addEventListener('click', function () {
    document.body.classList.toggle('mobile-nav-active');
   });

   // Фильтры по категориям
   categoryBtns.forEach(btn => {
    btn.addEventListener('click', function () {
     // Удаляем активный класс у всех кнопок
     categoryBtns.forEach(b => b.classList.remove('active'));
     // Добавляем активный класс текущей кнопке
     this.classList.add('active');
     // Фильтруем товары
     filterByCategory(this.dataset.category);
    });
   });

   // Иконка избранного
   favoritesIcon.addEventListener('click', function () {
    filterByCategory('all');
    const favoriteProducts = products.filter(p => favorites.includes(p.id));
    renderProducts(favoriteProducts);
    showNotification('Показаны избранные товары');
   });

   // Применение промокода
   applyPromoBtn.addEventListener('click', applyPromoCode);
   promoCodeInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
     applyPromoCode();
    }
   });

   // Очистка корзины
   clearCartBtn.addEventListener('click', () => {
    if (cart.length === 0) return;

    if (confirm('Вы уверены, что хотите очистить корзину?')) {
     cart = [];
     resetPromoCode();
     updateCart();
     showNotification('Корзина очищена');
    }
   });

   // Загрузка сохраненного промокода
   const savedPromoCode = localStorage.getItem('promoCode');
   if (savedPromoCode && validPromoCodes[savedPromoCode]) {
    promoCodeInput.value = savedPromoCode;
    discountPercent = validPromoCodes[savedPromoCode];
    applyDiscount();
    promoSuccess.style.display = "block";
   }

   // Обработчики для оффлайн-режима
   window.addEventListener('online', checkNetworkStatus);
   window.addEventListener('offline', checkNetworkStatus);
   retryBtn.addEventListener('click', () => {
    offlineLoader.querySelector('.loading-text').textContent = 'ПРОВЕРКА СОЕДИНЕНИЯ...';
    offlineLoader.querySelector('.connection-status').style.display = 'none';

    setTimeout(() => {
     checkNetworkStatus();
    }, 1500);
   });
  }

  // Запуск приложения
  document.addEventListener('DOMContentLoaded', function () {
   initStore();

   // Инициализация кнопки очистки
   if (searchInput.value) {
    searchClear.style.display = 'block';
   } else {
    searchClear.style.display = 'none';
   }
  });
 </script>
</body>

</html>